(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),s=n(1),l=n(4),u=n(14),i=n(7),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setPosts":return t.payload;case"deletePost":return e.filter(function(e){return e.id!==t.payload});case"deleteComment":return e.map(function(e){return e.id===t.postId?Object(i.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setQuery":return t.payload;default:return e}},p=function(e){return{type:"setLoading",payload:e}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"setLoading":return t.payload;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"setLoaded":return!0;default:return e}},h=function(e){return e.posts.filter(function(t){return t.title.toLowerCase().includes(e.query)||t.body.toLowerCase().includes(e.query)})},b=function(e){return e.isLoading},E=function(e){return e.isSearchError},v=function(e){return e.isLoaded},g=Object(l.c)({posts:m,query:d,isLoading:f,isLoaded:y}),j=Object(l.d)(g,{},Object(l.a)(u.a)),L=n(11),N=n.n(L),w=n(6),O=function(e){return fetch(e).then(function(e){return e.json()})},C=(n(26),function(e){var t=e.user,n=t.name,a=t.email,o=t.address;return r.a.createElement("section",null,r.a.createElement("p",null,n),r.a.createElement("p",null,a),r.a.createElement("address",null,Object.entries(o).map(function(e){var t=Object(w.a)(e,2),n=t[0],a=t[1];return"object"!==typeof a&&r.a.createElement(r.a.Fragment,{key:n},n," ",a,r.a.createElement("br",null))})))}),I={deleteComment:function(e,t){return{type:"deleteComment",postId:e,commentId:t}}},_=Object(s.b)(function(){return{}},I)(function(e){var t=e.postId,n=e.deleteComment,a=e.comment,o=a.id,c=a.name,s=a.email,l=a.body;return r.a.createElement("section",{className:"comment"},r.a.createElement("section",{className:"title"},r.a.createElement("button",{type:"button",className:"delete",onClick:function(){return n(t,o)}},"x"),r.a.createElement("h3",{className:"comment__title"},c)),r.a.createElement("section",{className:"comment__main-part"},r.a.createElement("p",null,s),r.a.createElement("p",{className:"comment__body"},l)))}),k=function(e){var t=e.postId;return e.comments.map(function(e){return r.a.createElement(_,{key:e.id,comment:e,postId:t})})},x={deletePost:function(e){return{type:"deletePost",payload:e}}},P=Object(s.b)(function(){return{}},x)(function(e){var t=e.deletePost,n=e.post,a=n.id,o=n.title,c=n.body,s=n.user,l=n.comments;return r.a.createElement("article",{className:"post"},r.a.createElement("section",{className:"title"},r.a.createElement("h2",null,o),r.a.createElement("button",{className:"delete",onClick:function(){return t(a)}},"x")),r.a.createElement("section",{className:"post__main-part"},r.a.createElement("p",{className:"post__body"},c),r.a.createElement(C,{user:s})),r.a.createElement(k,{comments:l,postId:a}))}),Q=Object(s.b)(function(e){return{posts:h(e)}})(function(e){return e.posts.map(function(e){return r.a.createElement(P,{key:e.id,post:e})})}),q={loadData:function(){return function(e){var t,n,a,r,o;return N.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e(p(!0)),c.prev=1,c.next=4,N.a.awrap(Promise.all([O("https://jsonplaceholder.typicode.com/posts"),O("https://jsonplaceholder.typicode.com/users"),O("https://jsonplaceholder.typicode.com/comments")]));case 4:t=c.sent,n=Object(w.a)(t,3),a=n[0],r=n[1],o=n[2],e({type:"setPosts",payload:a.map(function(e){return Object(i.a)({},e,{user:r.find(function(t){return t.id===e.userId}),comments:o.filter(function(t){return t.postId===e.id})})})}),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(1),console.error(c.t0);case 15:return c.prev=15,e(p(!1)),e({type:"setLoaded"}),c.finish(15);case 19:case"end":return c.stop()}},null,null,[[1,12,15,19]])}},setQuery:function(e){return{type:"setQuery",payload:e}}},D=Object(s.b)(function(e){return{posts:h(e),isLoading:b(e),isSearchError:E(e),isLoaded:v(e)}},q)(function(e){var t=e.loadData,n=e.isLoading,a=e.posts,o=e.setQuery,c=e.isLoaded;return r.a.createElement("main",{className:"list"},r.a.createElement("h1",null,"Dynamic list of posts"),c&&r.a.createElement("section",{className:"search-bar"},r.a.createElement("input",{type:"text",placeholder:"search post",className:"input",onChange:function(e){return o(e.target.value.toLowerCase().trim())}})),n&&r.a.createElement("button",{type:"button",className:"button button--non-active"},"Loading"),!n&&!c&&r.a.createElement("button",{className:"button",type:"button",onClick:t},"Load"),c&&0!==a.length&&r.a.createElement(Q,null),c&&0===a.length&&r.a.createElement("p",{className:"warning"},"There are no such posts, please try another search combination"))});c.a.render(r.a.createElement(s.a,{store:j},r.a.createElement(D,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.14d522b2.chunk.js.map