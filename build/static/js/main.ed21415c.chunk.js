(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a(28)},27:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),o=a(7),u=a(4),i=a(14),l=a(15),m=a(1),p=a.n(m),d=a(5),f=a(8),h=function(){var e;return p.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},E=function(){var e;return p.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},g=function(){var e;return p.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},_={posts:[],isLoading:!1,hasError:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DATA_LOADING_START":return Object(d.a)({},e,{isLoading:!0,hasError:!1});case"DATA_LOADING_SUCCESS":return Object(d.a)({},e,{posts:t.posts,isLoading:!1});case"DATA_LOADING_FAIL":return Object(d.a)({},e,{isLoading:!1,hasError:!0});default:return e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},b=function(e){return e.dataLoading.isLoading},N=function(e){return e.dataLoading.hasError},w=Object(i.a)([function(e){return e.dataLoading.posts},function(e){return e.query}],function(e,t){return e.filter(function(e){return(e.title+e.body).toLowerCase().includes(t)})}),A=Object(u.c)({dataLoading:y,query:v}),L=Object(u.d)(A,Object(u.a)(l.a)),j=(a(27),function(e){var t=e.name,a=e.email,n=e.address;return r.a.createElement("div",{className:"user post__user"},r.a.createElement("h3",{className:"user__name"},"Author: ".concat(t)),r.a.createElement("p",{className:"user__email"},"email: ".concat(a)),r.a.createElement("p",{className:"user__city"},"city: ".concat(n.city)))}),O=function(e){var t=e.name,a=e.email,n=e.body;return r.a.createElement("div",{className:"comment"},r.a.createElement("h3",{className:"comment__title"},"Comment: ".concat(t)),r.a.createElement("p",{className:"comment__content"},n),r.a.createElement("p",{className:"comment__user-email"},a))},D=function(e){var t=e.list;return r.a.createElement("div",{className:"post__comments-container"},t.map(function(e){return r.a.createElement(O,Object.assign({key:e.id},e))}))},S=function(e,t){return t&&e?e.toString().split(new RegExp("(".concat(t,")"),"gi")).map(function(e,a){return r.a.createElement(n.Fragment,{key:"".concat(e+a)},e.toLowerCase()===t.toLowerCase()?r.a.createElement("span",{style:{backgroundColor:"#f4fc03"}},e):e)}):e},T=function(e){var t=e.highlightedValue,a=e.id,n=e.title,c=e.body,s=e.user,o=e.comments;return r.a.createElement("article",{className:"post"},r.a.createElement("div",{className:"post__container"},r.a.createElement("article",{className:"post__information"},r.a.createElement("p",{className:"post__number"},"Post ".concat(a,":")),r.a.createElement("h2",{className:"post__title"},S(n,t)),r.a.createElement("p",{className:"post__content"},S(c,t))),r.a.createElement(j,s)),r.a.createElement(D,{list:o}))},C=function(e){var t=e.posts,a=e.highlightedValue;return r.a.createElement("div",{className:"posts-container"},t.map(function(e){return r.a.createElement(T,Object.assign({highlightedValue:a,key:e.id},e))}))},x=function(e){var t=e.posts,a=e.isLoading,c=e.hasError,s=e.loadData,o=e.setQuery,u=Object(n.useState)(""),i=Object(f.a)(u,2),l=i[0],m=i[1],d=Object(n.useCallback)(function(e,t){var a;return function(){clearTimeout(a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];a=setTimeout.apply(void 0,[e,t].concat(r))}}(function(e){o(e)},500),[]);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{className:"main-title"},"Dynamic list of posts"),t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"search",className:"posts-search",placeholder:"Search for posts",onChange:function(e){var t=e.target.value.toLowerCase().replace(/[/\\+*()?[\]]/g,"");m(t),d(t)},value:l}),r.a.createElement(C,{posts:t,highlightedValue:l})):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"sub-title"},c?"Something went wrong ...":"No posts yet!"),r.a.createElement("button",{className:"load-btn",type:"button",onClick:function(){return p.a.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.awrap(s());case 2:case"end":return e.stop()}})},disabled:a},a?"Loading ...":"Load posts")))},I=Object(o.b)(function(e){return{posts:w(e),isLoading:b(e),hasError:N(e)}},{loadData:function(){return function(e){var t,a,n,r,c,s;return p.a.async(function(o){for(;;)switch(o.prev=o.next){case 0:return e({type:"DATA_LOADING_START"}),o.prev=1,o.next=4,p.a.awrap(Promise.all([h(),E(),g()]));case 4:return t=o.sent,a=Object(f.a)(t,3),n=a[0],r=a[1],c=a[2],s=n.map(function(e){return Object(d.a)({},e,{user:r.find(function(t){return e.userId===t.id}),comments:c.filter(function(t){return e.id===t.postId})})}),o.abrupt("return",e({type:"DATA_LOADING_SUCCESS",posts:s}));case 13:o.prev=13,o.t0=o.catch(1),e({type:"DATA_LOADING_FAIL"});case 16:case"end":return o.stop()}},null,null,[[1,13]])}},setQuery:function(e){return{type:"SET_QUERY",query:e}}})(x);s.a.render(r.a.createElement(o.a,{store:L},r.a.createElement(I,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ed21415c.chunk.js.map