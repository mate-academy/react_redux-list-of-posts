(this["webpackJsonpreact_task-boilerplate-ci"]=this["webpackJsonpreact_task-boilerplate-ci"]||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},29:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(6),u=n.n(c),o=n(3),s=n(1),l=n.n(s),i=n(7),m=n(16),d=n(5),p=n(14),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DELETE_POST":return e.filter((function(e){return e.id!==t.postId}));case"DELETE_COMMENT":return e.map((function(e){return e.id===t.postId?Object(i.a)({},e,{comments:e.comments.filter((function(e){return e.id!==t.commentId}))}):e}));default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},y=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},h=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},b=function(){var e;return l.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}}))},v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"START_LOADING":return!0;case"FINISH_LOADING":return!1;default:return e}},g=function(e){return e.posts},I=function(e){return e.isLoading},O=function(e){return e.query},T=Object(d.c)({posts:f,isLoading:v,query:E}),D=Object(d.d)(T,Object(d.a)(p.a)),j=n(15),w=function(e){var t=e.userData,n=t.name,a=t.email,c=t.address.street;return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"By ".concat(n)),r.a.createElement("span",null,a),r.a.createElement("span",null,c))},L=Object(o.b)(null,{deleteComment:function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}})((function(e){var t=e.commentData,n=e.deleteComment;return r.a.createElement(r.a.Fragment,null,r.a.createElement("dt",null,r.a.createElement("button",{type:"button",className:"delete delete-comment",onClick:function(){return n(t.postId,t.id)}},"X"),t.name,r.a.createElement("br",null),t.email),r.a.createElement("dd",null,t.body))})),N=function(e){var t=e.commentsData;return r.a.createElement("article",{className:"comments"},r.a.createElement("dl",null,t.map((function(e){return r.a.createElement(L,{commentData:e,key:e.id})}))))},S=Object(o.b)(null,{deletePost:function(e){return{type:"DELETE_POST",postId:e}}})((function(e){var t=e.data,n=t.title,a=t.body,c=t.user,u=t.comments,o=t.id,s=e.deletePost;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,n),r.a.createElement("button",{type:"button",className:"delete delete-post",onClick:function(){return s(o)}},"X"),r.a.createElement("p",null,a),r.a.createElement("p",{className:"author"},r.a.createElement(w,{userData:c})),u.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Comments:"),r.a.createElement(N,{commentsData:u})):"")})),_=function(e){return e.info.map((function(e){return r.a.createElement("section",{className:"post shadow",key:e.id},r.a.createElement(S,{data:e}))}))},x=(n(29),{load:function(){return function(e){var t,n,a,r,c,u;return l.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e({type:"START_LOADING"}),o.next=3,l.a.awrap(Promise.all([h(),b(),y()]));case 3:t=o.sent,n=Object(m.a)(t,3),a=n[0],r=n[1],c=n[2],u=a.map((function(e){return Object(i.a)({},e,{user:c.find((function(t){return e.userId===t.id})),comments:r.filter((function(t){return t.postId===e.id}))})})),e({type:"SET_POSTS",posts:u}),e({type:"FINISH_LOADING"});case 11:case"end":return o.stop()}}))}},setQueryValue:function(e){return{type:"SET_QUERY",query:e}}}),C=Object(o.b)((function(e){return{posts:g(e),isLoading:I(e),query:O(e)}}),x)((function(e){var t=e.posts,n=e.isLoading,a=e.load,c=e.query,u=e.setQueryValue,o=t.filter((function(e){return(e.title+e.body).toLowerCase().includes(c.trim())}));return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of posts"),t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(j.DebounceInput,{className:"filter",type:"text",value:c,onChange:function(e){u(e.target.value)},debounceTimeout:500}),r.a.createElement(_,{info:o})):r.a.createElement("button",{type:"button",onClick:a},"Load data"),n&&r.a.createElement("h3",null,"Loading..."))}));u.a.render(r.a.createElement(o.a,{store:D},r.a.createElement(C,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.7c458b02.chunk.js.map