(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,a){e.exports=a(41)},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),o=a.n(s),i=a(2),c=a(5),l=a(19),u=a(13),m=a(4),p=a(14),d=a(10),f=a.n(d),E=a(15),g=function(){var e=Object(E.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.abrupt("return",a.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(a,!0).forEach(function(t){Object(u.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var h="https://jsonplaceholder.typicode.com/",y={FILTER_POSTS:"POSTS::FILTER",RESET_POSTS:"POSTS::RESET",SET_DATA_TO_STORE:"POSTS::TO-STORE",ISLOADING_POSTS:"POSTS::ISLOADING",DELETE_POST:"POSTS::DELETE-ITEM",DELETE_COMMENT:"COMMENT::DELETE"},T=function(){return{type:y.ISLOADING_POSTS}},_=function(){return function(e){v.dispatch(T()),Promise.all([g("".concat(h,"posts")),g("".concat(h,"users")),g("".concat(h,"comments"))]).then(function(e){var t,a=Object(l.a)(e,3),n=a[0],r=a[1],s=a[2];v.dispatch(function(e,t,a){return{type:y.SET_DATA_TO_STORE,payload:{postsData:e,commentsData:t,users:a}}}((t=r,n.map(function(e){return b({},e,{user:t.find(function(t){return t.id===e.userId})})})),s,r)),v.dispatch(T())})}},S={posts:[],originalPosts:[],comments:[],originalComments:[],users:[],isLoading:!1},v=Object(m.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y.FILTER_POSTS:return b({},e,{posts:Object(c.a)(e.originalPosts).filter(function(e){return e.title.includes(t.payload)})});case y.RESET_POSTS:return b({},e,{posts:Object(c.a)(e.originalPosts),comments:Object(c.a)(e.originalComments)});case y.ISLOADING_TODOS:return b({},e,{isLoading:!e.isLoading});case y.SET_DATA_TO_STORE:return b({},e,{posts:t.payload.postsData,originalPosts:t.payload.postsData,comments:t.payload.commentsData,originalComments:t.payload.commentsData,users:t.payload.users});case y.DELETE_POST:return b({},e,{posts:Object(c.a)(e.posts).filter(function(e){return e.id!==t.payload})});case y.DELETE_COMMENT:return b({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})});default:return e}},Object(m.a)(p.a)),P=(a(33),a(16)),N=a(17),j=a(20),D=a(18),I=a(21),L=(a(34),a(35),a(1)),w=a.n(L),C=(w.a.string,w.a.string,w.a.shape({street:w.a.string,suite:w.a.string,city:w.a.string,zipcode:w.a.string,geo:w.a.shape({lat:w.a.string,lng:w.a.string})}),w.a.string,w.a.string,w.a.func,w.a.shape({postId:w.a.number,id:w.a.number,name:w.a.string,email:w.a.string,body:w.a.string})),R=(w.a.arrayOf(w.a.shape(C)),w.a.shape({id:w.a.number,name:w.a.string,username:w.a.string,email:w.a.string,phone:w.a.string,website:w.a.string,adress:w.a.shape({street:w.a.string,suite:w.a.string,city:w.a.string,zipcode:w.a.string,geo:w.a.shape({lat:w.a.string,lng:w.a.string})}),company:w.a.shape({name:w.a.string,catchPhrase:w.a.string,bs:w.a.string})})),k=(w.a.bool,w.a.arrayOf(w.a.shape({userId:w.a.number,id:w.a.number,title:w.a.string,body:w.a.string,user:w.a.shape(R)})),w.a.func,w.a.string,w.a.string,w.a.shape(R),w.a.number,w.a.func,w.a.arrayOf(w.a.shape({userId:w.a.number,id:w.a.number,title:w.a.string,body:w.a.string,user:w.a.shape(R)})),w.a.arrayOf(w.a.shape({userId:w.a.number,id:w.a.number,title:w.a.string,body:w.a.string})),w.a.arrayOf(w.a.shape(R)),w.a.arrayOf(w.a.shape(C)),function(e){var t=e.name,a=e.email,n=e.address;return r.a.createElement("div",null,r.a.createElement("h2",{className:"user__name"},t),r.a.createElement("p",{className:"user__email"},a),r.a.createElement("p",{className:"user__address"},"".concat(n.street,", ").concat(n.street,", ").concat(n.city)))}),x=(a(36),function(e){var t=e.comment,a=e.email,n=e.deleteComment;return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{type:"button",onClick:n,className:"destroy-comment"}),r.a.createElement("p",{className:"comment__email"},a),r.a.createElement("p",{className:"comment__text"},t))}),A=Object(i.b)(null,function(e,t){return{deleteComment:function(){return e((a=t.id,{type:y.DELETE_COMMENT,payload:a}));var a}}})(x),M=(a(37),function(e){var t=e.commentsList;return r.a.createElement("div",{className:"comment-list"},t.map(function(e){return r.a.createElement(A,{comment:e.body,key:e.id,id:e.id,email:e.email})}))}),F=Object(i.b)(function(e,t){return{commentsList:e.comments.filter(function(e){return e.postId===t.id})}})(M),G=(a(38),function(e){var t=e.title,a=e.text,n=e.user,s=e.id,o=e.deletePost;return r.a.createElement("div",{className:"post"},r.a.createElement("button",{type:"button",onClick:o,className:"destroy"}),r.a.createElement(k,{name:n.name,email:n.email,address:n.address}),r.a.createElement("h1",{className:"post__title"},t),r.a.createElement("p",{className:"post__text"},a),r.a.createElement(F,{id:s}))}),V=Object(i.b)(null,function(e,t){return{deletePost:function(){return e((a=t.id,{type:y.DELETE_POST,payload:a}));var a}}})(G),z=(a(39),function(e){var t=e.posts;return r.a.createElement("div",{className:"post-list"},t.map(function(e){var t=e.title,a=e.body,n=e.user,s=e.id;return r.a.createElement(V,{title:t,text:a,user:n,id:s,key:s})}))}),B=Object(i.b)(function(e){return{posts:e.posts}})(z),J=(a(40),function(e){var t=e.posts,a=e.users,n=e.comments;return r.a.createElement("div",{className:"header"},r.a.createElement("h1",{className:"header__title"},"Static list of posts"),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"posts: "),t.length),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"comments: "),n.length),r.a.createElement("p",{className:"header__text"},r.a.createElement("span",{className:"header__span"},"Users: "),a.length))}),W=Object(i.b)(function(e){return{users:e.users,posts:e.posts,comments:e.comments}})(J),U=function(e){function t(){var e,a;Object(P.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(j.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={filterInputValue:""},a.handleInputFilter=function(e){var t=e.target;a.setState({filterInputValue:t.value}),(0,a.props.filterPosts)(t.value)},a.handleReset=function(){a.setState({filterInputValue:""}),(0,a.props.resetPosts)()},a}return Object(I.a)(t,e),Object(N.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,a=e.originalPosts,n=e.getData,s=this.state.filterInputValue;return t?r.a.createElement("p",{className:"loading-text"},"Posts are loading now..."):0===a.length?r.a.createElement("button",{onClick:n,type:"button",className:"data-button"},"Load all posts"):r.a.createElement("main",null,r.a.createElement(W,null),r.a.createElement("button",{type:"button",className:"reset-button",onClick:this.handleReset},"Return back posts and comments"),r.a.createElement("input",{type:"text",onChange:this.handleInputFilter,value:s,className:"filter-input"}),r.a.createElement(B,null))}}]),t}(r.a.Component),$=Object(i.b)(function(e){return{originalPosts:e.originalPosts,isLoading:e.isLoading}},function(e){return{resetPosts:function(){return e({type:y.RESET_POSTS})},getData:function(){return e(_())},filterPosts:function(t){return e(function(e){return{type:y.FILTER_POSTS,payload:e}}(t))}}})(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,{store:v},r.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[22,1,2]]]);
//# sourceMappingURL=main.34431e24.chunk.js.map