(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),s=n(3),u=n(12),l=n(1),i=n(6),m=function(e){return e.posts},d=function(e){return e.loading},f=function(e){return e.loaded},p=function(e){return e.filter},E=Object(i.b)(function(e,t){switch(t.type){case"SET_POSTS":return Object(l.a)({},e,{posts:t.value});case"SET_FILTER":return Object(l.a)({},e,{filter:t.value});case"SET_LOADING":return Object(l.a)({},e,{loading:t.value});case"SET_LOADED":return Object(l.a)({},e,{loaded:t.value});case"DELETE_POST":return Object(l.a)({},e,{posts:Object(u.a)(e.posts).filter(function(e){return e.id!==t.value})});case"DELETE_COMMENT":return Object(l.a)({},e,{posts:Object(u.a)(e.posts).map(function(e){return Object(l.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.value})})})});default:return e}},{posts:[],loading:!1,loaded:!1,filter:""}),b=n(11),v=n.n(b),y=n(7),O=(n(26),"https://jsonplaceholder.typicode.com/"),T=function(e,t){return fetch(e).then(function(e){return e.ok?e.json():t}).catch(function(){return t})},N=function(e){var t=e.user;return r.a.createElement("div",{className:"user"},r.a.createElement("b",null,"Post by:"),r.a.createElement("div",{className:"user--name"},t.name),r.a.createElement("div",{className:"user--email"},t.email),r.a.createElement("div",{className:"user--address"},t.address.street,r.a.createElement("br",null),t.address.suite,r.a.createElement("br",null),t.address.city))},j={deleteComment:function(e){return{type:"DELETE_COMMENT",value:e}}},L=Object(s.b)(null,j)(function(e){var t=e.comment,n=e.deleteComment;return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{className:"button--delete",type:"button",onClick:function(){return n(t.id)}},"Remove comment"),r.a.createElement("h4",{className:"comment--name"},t.name),r.a.createElement("div",{className:"comment--email"},t.email),r.a.createElement("p",{className:"comment--body"},t.body))}),h=function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},"Comments:",t.map(function(e){return r.a.createElement(L,{key:e.id,comment:e})}))},S={deletePost:function(e){return{type:"DELETE_POST",value:e}}},g=Object(s.b)(null,S)(function(e){var t=e.post,n=e.deletePost;return r.a.createElement("div",{className:"post"},r.a.createElement("button",{className:"button--delete",type:"button",onClick:function(){return n(t.id)}},"Remove post"),r.a.createElement("h3",{className:"post--header"},t.title),r.a.createElement(N,{user:t.user}),r.a.createElement("p",{className:"post--body"},t.body),r.a.createElement(h,{comments:t.comments}))}),w=function(e){var t=e.posts,n=e.filterPosts,o=Object(a.useState)(""),c=Object(y.a)(o,2),s=c[0],u=c[1];return r.a.createElement(r.a.Fragment,null,"Enter text to filter posts by title or body:\xa0",r.a.createElement("input",{className:"filter--input",type:"text",value:s,onChange:function(e){return t=e.target.value,u(t.toLowerCase().trimLeft()),void n(s);var t}}),r.a.createElement("h4",null,t.length,"\xa0post(s) are shown"),t.map(function(e){return r.a.createElement(g,{key:e.id,post:e})}))},P={setPosts:function(e){return{type:"SET_POSTS",value:e}},setLoading:function(e){return{type:"SET_LOADING",value:e}},setLoaded:function(e){return{type:"SET_LOADED",value:e}},setFilter:function(e){return{type:"SET_FILTER",value:e}}},_=Object(s.b)(function(e){return{posts:m(e),loading:d(e),loaded:f(e),filter:p(e)}},P)(function(e){var t=e.posts,n=e.loading,a=e.loaded,o=e.filter,c=e.setPosts,s=e.setLoading,u=e.setLoaded,i=e.setFilter,m=function(e,t){var n;return function(){clearTimeout(n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n=setTimeout.apply(void 0,[e,t].concat(r))}}(function(e){i(e)},500),d=t.filter(function(e){return(e.title+e.body).toLowerCase().includes(o)});return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React-Redux list of posts"),a?r.a.createElement(w,{posts:d,filterPosts:m}):r.a.createElement("button",{className:"button--load",type:"button",onClick:function(){var e,t,n,a,r,o;return v.a.async(function(i){for(;;)switch(i.prev=i.next){case 0:return s(!0),i.next=3,v.a.awrap(Promise.all([T("".concat(O,"posts"),[]),T("".concat(O,"users"),[]),T("".concat(O,"comments"),[])]));case 3:e=i.sent,t=Object(y.a)(e,3),n=t[0],a=t[1],r=t[2],o=n.map(function(e){var t=a.find(function(t){return t.id===e.userId}),n=r.filter(function(t){return t.postId===e.id});return Object(l.a)({},e,{user:t,comments:n})}),c(o),u(!0),s(!1);case 12:case"end":return i.stop()}})}},n?"loading... Please wait...":"Load list of posts"))});c.a.render(r.a.createElement(s.a,{store:E},r.a.createElement(_,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.be4d994d.chunk.js.map