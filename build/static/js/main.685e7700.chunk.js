(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(40)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=n(2),i=(n(31),n(12)),u=n(13),l=n(19),m=n(14),d=n(20),p=(n(32),n(33),Object(s.b)(function(e){return{isLoading:e.isLoading}})(function(e){var t=e.isLoading;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("div",{className:"spinner-grow text-dark",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))})),f=(n(34),n(35),n(36),function(e){var t=e.name,n=e.email,a=e.website;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",null,t),r.a.createElement("h6",null,n),r.a.createElement("h6",null,a))}),E=(n(37),n(38),function(e){var t=e.comment;return r.a.createElement("div",{className:"card-body"},r.a.createElement("li",{className:"card-title"},t.name),r.a.createElement("p",{className:"card-text card-email"},t.email),r.a.createElement("p",{className:"card-text"},t.body))}),O=function(e){var t=e.comments;return r.a.createElement("div",{className:"card w-75"},r.a.createElement("h4",null,"Comments:"),t.map(function(e){return r.a.createElement(E,{comment:e,key:e.id})}))},b=function(e){var t=e.data;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h4",{className:"card-title"},t.title),r.a.createElement(f,t.user)),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",{className:"card-text"},t.body),r.a.createElement(O,{comments:t.comments})))},S=Object(s.b)(function(e){return{posts:e.posts}})(function(e){var t=e.posts;return r.a.createElement("div",{className:"post-list"},t.map(function(e){return r.a.createElement(b,{data:e,key:e.id})}))}),v=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.isLoaded,a=e.getDataFromApi,c=e.posts;return r.a.createElement("div",{className:"main"},r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("p",null,r.a.createElement("span",null,"posts: "),c.length),!n&&!t&&r.a.createElement("button",{onClick:a,className:"btn btn-outline-dark"},"Load posts"),r.a.createElement(p,null),n&&r.a.createElement(S,null))}}]),t}(r.a.Component),y=n(15),g=n(18),_=n(4),h=n(16),L=n(9),j=n.n(L),T=n(17),D=function(){var e=Object(T.a)(j.a.mark(function e(t){var n;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://jsonplaceholder.typicode.com/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(y.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P={LOAD_POSTS_REQUEST:"LOAD_POSTS_REQUEST",LOAD_POSTS_SUCCESS:"LOAD_POSTS_SUCCESS",GET_DATA:"GET_DATA"},N=function(){return{type:P.LOAD_POSTS_REQUEST}},C=function(){return{type:P.LOAD_POSTS_SUCCESS}},k=function(){return function(e){e(N()),Promise.all([D("posts"),D("users"),D("comments")]).then(function(t){var n=Object(g.a)(t,3),a=n[0],r=n[1],c=n[2];e(N()),e(function(e,t,n){return{type:P.GET_DATA,posts:e,comments:n,users:t}}(a,r,c)),e(C())})}},U={posts:[],isLoading:!1,isLoaded:!1};var x=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||_.c,R=Object(_.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case P.LOAD_POSTS_REQUEST:return A({},e,{isLoading:!e.isLoading});case P.LOAD_POSTS_SUCCESS:return A({},e,{isLoaded:!e.isLoaded});case P.GET_DATA:return A({},e,{posts:t.posts.map(function(e){return A({},e,{users:t.users.find(function(t){return t.id===e.userId}),comments:t.comments.filter(function(t){return t.postId===e.id})})})});default:return e}},x(Object(_.a)(h.a)));var F=Object(s.b)(function(e){return{isLoaded:e.isLoaded,isLoading:e.isLoading,posts:e.posts}},function(e){return{loaded:function(){return e(C())},loading:function(){return e(N())},getDataFromApi:function(){return e(k())}}})(v);o.a.render(r.a.createElement(s.a,{store:R},r.a.createElement(F,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.685e7700.chunk.js.map