(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(31)},,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),s=n.n(o),c=(n(19),n(3)),l=n(11),i=n(13),m=n(4),u=n(12);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f={SEARCH_POST:"SEARCH_POST",SWITCH_LOADING_STATE:"SWITCH_LOADING_STATE",GET_DATA:"GET_DATA"},E=function(){return{type:f.SWITCH_LOADING_STATE}},h=function(e,t,n){return{type:f.GET_DATA,payload:{users:e,posts:t,comments:n}}},y=function(){return function(e){g.dispatch(E()),Promise.all([fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()})]).then(function(e){var t,n=Object(i.a)(e,3),a=n[0],r=n[1],o=n[2];g.dispatch(h(r,(t=r,o.map(function(e){return d({},e,{user:t.find(function(t){return t.id===e.userId})})})),a)),g.dispatch(E())})}};var v={preparedPosts:[],originalPosts:[],users:[],comments:[],isLoading:!1};var g=Object(m.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f.SWITCH_LOADING_STATE:return d({},e,{isLoading:!e.isLoading});case f.GET_DATA:return d({},e,{preparedPosts:t.payload.posts,originalPosts:t.payload.posts,comments:t.payload.comments,users:t.payload.users});case f.SEARCH_POST:return d({},e,{preparedPosts:e.originalPosts.filter(function(e){return e.title.toLowerCase().includes(t.payload.value.toLowerCase())||e.body.toLowerCase().includes(t.payload.value.toLowerCase())})});default:return e}},Object(m.a)(u.a));n(25),n(26),n(27),n(28);var b=function(e){var t=e.user;return r.a.createElement("div",{className:"user"},r.a.createElement("h2",{className:"username"},t.name),r.a.createElement("p",{className:"usermail"},t.email),r.a.createElement("p",{className:"useradress"},t.address.city),r.a.createElement("p",{className:"useradress"},t.address.street))};n(29),n(30);var O=function(e){var t=e.comment;return r.a.createElement("div",{className:"comment"},r.a.createElement("h3",{className:"comment__name"},t.name),r.a.createElement("h4",{className:"comment__email"},t.email),r.a.createElement("p",{className:"comment__body"},t.body))};var P=function(e){return e.comments.map(function(e){return r.a.createElement(O,{comment:e})})};var _=function(e){var t=e.post,n=e.user,a=e.comments;return r.a.createElement("div",{className:"post"},r.a.createElement(b,{user:n}),r.a.createElement("div",{className:"post-content"},r.a.createElement("h1",{className:"post__title"},t.title),r.a.createElement("p",{className:"post__body"},t.body)),r.a.createElement("h2",{className:"desription"},"Comments:"),r.a.createElement(P,{comments:a.filter(function(e){return e.postId===t.id})}))};var T=function(e){var t=e.posts,n=e.comments;return r.a.createElement("div",{className:"post-list"},t.map(function(e){return r.a.createElement(_,{post:e,comments:n,user:e.user,key:e.id})}))},w=Object(c.b)(function(e){return{preparedPosts:e.preparedPosts,comments:e.comments}})(T),N=function(e){var t=e.loadData,n=e.preparedPosts,a=e.comments,o=e.users,s=e.originalPosts,c=e.isLoading,l=e.searchPost;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("p",null,r.a.createElement("span",null,"posts: "),s.length),r.a.createElement("p",null,r.a.createElement("span",null,"comments: "),a.length),r.a.createElement("p",null,r.a.createElement("span",null,"Users: "),o.length),0===s.length?r.a.createElement("button",{type:"button",onClick:t,className:"btn btn-info"},c?r.a.createElement("span",{className:"spinner-border spinner-border-sm"}):r.a.createElement("span",null,"Load")," "):r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",name:"text",placeholder:"Write text you find",className:"form-control",onChange:l}),r.a.createElement(w,{posts:n,comments:a})))},j=Object(c.b)(function(e){return{preparedPosts:e.preparedPosts,originalPosts:e.originalPosts,users:e.users,comments:e.comments,isLoading:e.isLoading}},function(e){return{loading:function(){return e(E())},getData:function(){return e(h())},loadData:function(){return e(y())},searchPost:function(t){return e(function(e){var t=e.target;return{type:f.SEARCH_POST,payload:t}}(t))}}})(N);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(c.a,{store:g},r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[14,1,2]]]);
//# sourceMappingURL=main.dd76eb58.chunk.js.map