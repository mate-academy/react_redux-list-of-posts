(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(36)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),s=n(6),l=n(4),u=n(11),i=n(10),p=n(3),m=n(14);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D={ADD_DATA:"DATA::ADD",LOAD_DATA:"LOAD::ADD",SORT_DATA:"SORT::DATA",INPUT_NAME:"NAME::ADD",USER_LIST:"USER::LIST",RESET_SORT:"SORT::RESET"};var E=function(e){return{type:D.LOAD_DATA,payload:e}},y={originalData:[],sortedData:[],users:[],usersToDisplay:[],inputtedName:"",isLoading:!1},v=function(){return function(e){O.dispatch(E()),Promise.all([fetch("https://jsonplaceholder.typicode.com/comments"),fetch("https://jsonplaceholder.typicode.com/users"),fetch("https://jsonplaceholder.typicode.com/posts")]).then(function(e){var t=Object(u.a)(e,3),n=t[0],a=t[1],r=t[2];return Promise.all([n.json(),a.json(),r.json()])}).then(function(e){var t,n=Object(u.a)(e,3),a=n[0],r=n[1],o=n[2];return O.dispatch((t=function(e,t,n){return n.map(function(n){return f({},n,{comments:e.filter(function(e){return e.postId===n.id}),user:t.reduce(function(e,t){return f({},e,Object(i.a)({},t.id,t))},{})[n.userId]})})}(a,r,o),{type:D.ADD_DATA,payload:t}),O.dispatch(function(e){return{type:D.USER_LIST,payload:e}}(r)),O.dispatch(E()))})}};var O=Object(p.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case D.ADD_DATA:return f({},e,{originalData:t.payload,sortedData:t.payload});case D.LOAD_DATA:return f({},e,{isLoading:!e.isLoading});case D.RESET_SORT:return f({},e,{sortedData:Object(l.a)(e.originalData),inputtedName:"",usersToDisplay:Object(l.a)(e.users)});case D.SORT_DATA:return f({},e,{sortedData:Object(l.a)(e.originalData).filter(function(t){return t.user.name.toLowerCase().includes(e.inputtedName)}),usersToDisplay:Object(l.a)(e.users).filter(function(t){return t.name.toLowerCase().includes(e.inputtedName)})});case D.INPUT_NAME:return f({},e,{inputtedName:t.payload});case D.USER_LIST:return f({},e,{users:t.payload,usersToDisplay:t.payload});default:return e}},Object(p.a)(m.a)),b=n(15),h=n(16),A=n(18),T=n(17),g=n(19);n(30),n(31);var j=function(e){var t=e.user,n=t.name,a=t.email;return r.a.createElement("div",null,r.a.createElement("div",null,n),r.a.createElement("div",null,a),r.a.createElement("div",null,"\n          ".concat(t.address.city,",\n          ").concat(t.address.street,",\n          ").concat(t.address.suite,"\n        ")))};n(32);var N=function(e){var t=e.comment,n=t.name,a=t.email,o=t.body;return r.a.createElement("div",{className:"comment"},r.a.createElement("div",null,o),r.a.createElement("div",null,r.a.createElement("p",null,n),r.a.createElement("p",null,a)))},S=(n(33),function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},t.map(function(e){return r.a.createElement(N,{comment:e,key:e.id})}))});var w=function(e){var t=e.post,n=t.title,a=t.body,o=t.comments;return r.a.createElement("div",{className:"post"},r.a.createElement("div",null,r.a.createElement("h2",null,n),r.a.createElement("p",null,a),r.a.createElement(j,{user:t.user})),r.a.createElement(S,{comments:o}))},L=(n(34),function(e){return e.fullPosts.map(function(e){return r.a.createElement(w,{post:e,key:e.id})})}),_=(n(35),function(e){function t(){var e,n;Object(b.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(A.a)(this,(e=Object(T.a)(t)).call.apply(e,[this].concat(r)))).handleEnteredName=function(e){var t=e.target;n.props.inputName(t.value.toLowerCase()),n.props.sortData()},n}return Object(g.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoading,n=e.sortedData,a=e.getData,o=e.usersToDisplay,c=e.originalData,s=e.resetSort,l=e.inputtedName;return console.log(o),t?r.a.createElement("div",{className:"app"},r.a.createElement("p",null,"Loading ...")):0===c.length?r.a.createElement("div",{className:"app"},r.a.createElement("button",{type:"button",onClick:a}," Show posts ")):r.a.createElement("div",{className:"app"},r.a.createElement("h1",null,"Dynamic list of posts"),r.a.createElement("p",null,"Posts:",n.length),r.a.createElement("h2",null,"Posted users name: "),o.map(function(e){return r.a.createElement("b",null,e.name,r.a.createElement("br",null))}),r.a.createElement("input",{onChange:this.handleEnteredName,value:l,placeholder:" input user name"}),r.a.createElement("br",null),r.a.createElement("button",{type:"button",onClick:s},"Reset"),r.a.createElement(L,{fullPosts:n}))}}]),t}(r.a.Component)),P=Object(s.b)(function(e){return{sortedData:e.sortedData,isLoading:e.isLoading,inputtedName:e.inputtedName,usersToDisplay:e.usersToDisplay,originalData:e.originalData}},function(e){return{getData:function(){return e(v())},sortData:function(){return e({type:D.SORT_DATA,payload:t});var t},inputName:function(t){return e((n=t,{type:D.INPUT_NAME,payload:n}));var n},resetSort:function(){return e({type:D.RESET_SORT,payload:t});var t}}})(_);c.a.render(r.a.createElement(s.a,{store:O},r.a.createElement(P,null)),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.e87d72c3.chunk.js.map