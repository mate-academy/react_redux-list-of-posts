(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(29)},21:function(e,t,n){},26:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(7),o=n.n(c),s=(n(21),n(4)),u=(n(26),n(2)),i=n.n(u),l=n(1),d=n(11),m=n(15),p=n.n(m),f=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/posts"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},E=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/users"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},v=function(){var e;return i.a.async(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.awrap(fetch("https://jsonplaceholder.typicode.com/comments"));case 2:return e=t.sent,t.abrupt("return",e.json());case 4:case"end":return t.stop()}})},h=n(6),b={isLoading:!1,loaded:!1,error:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_LOADING":return Object(l.a)({},e,{isLoading:t.value});case"CHANGE_LOADED":return Object(l.a)({},e,{loaded:t.value});case"CHANGE_ERROR":return Object(l.a)({},e,{error:t.value});default:return e}},O={posts:[],filteredPosts:[]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return Object(l.a)({},e,{posts:t.value});case"DELETE_POST":return Object(l.a)({},e,{filteredPosts:e.filteredPosts.filter(function(e){return e.id!==t.value}),posts:e.posts.filter(function(e){return e.id!==t.value})});case"DELETE_COMMENT":return Object(l.a)({},e,{filteredPosts:e.filteredPosts.map(function(e){return e.id===t.postId?Object(l.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e}),posts:e.posts.map(function(e){return e.id===t.postId?Object(l.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e})});case"FILTER_POSTS":return Object(l.a)({},e,{filteredPosts:t.value});default:return e}},N=function(e){return e.posts},w=function(e){return e.isLoading},j=function(e){return e.loaded},L=function(e){return e.error},P=function(e){return e.filteredPosts},C=Object(h.b)({posts:y,loading:g}),I=Object(h.c)(C),T=Object(s.b)(function(e){return{}},function(e){return{deleteComment:function(t,n){return e(function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}(t,n))}}})(function(e){var t=e.comment,n=e.postId,r=e.deleteComment;return a.a.createElement("li",null,a.a.createElement("button",{type:"button",className:"delete",onClick:function(){return r(n,t.id)}},"x"),a.a.createElement("p",{className:"comment"},t.name),a.a.createElement("p",{className:"comment"},t.body),a.a.createElement("p",{className:"comment"},t.email))}),_=function(e){var t=e.comments,n=e.postId;return t.map(function(e){return a.a.createElement(T,{comment:e,postId:n})})},S=function(e){var t=e.user;return a.a.createElement(a.a.Fragment,null,a.a.createElement("p",{className:"user"},t.name),a.a.createElement("p",{className:"user"},t.email),a.a.createElement("p",{className:"user"},"".concat(t.address.city," ").concat(t.address.street," ").concat(t.address.suite)))},x=Object(s.b)(function(e){return{}},function(e){return{deletePost:function(t){return e(function(e){return{type:"DELETE_POST",value:e}}(t))}}})(function(e){var t=e.post,n=e.deletePost;return a.a.createElement("div",{className:"post"},a.a.createElement("button",{type:"button",onClick:function(){return n(t.id)},className:"delete"},"delete post"),a.a.createElement("p",{className:"title"},t.title),a.a.createElement("p",null,t.body),a.a.createElement("div",{className:"user"},a.a.createElement(S,{user:t.user})),a.a.createElement("ul",null,a.a.createElement("p",{className:"title-comment"},"Comments"),a.a.createElement(_,{comments:t.comments,postId:t.id})))}),A=function(){var e,t,n,r,a;return i.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,i.a.awrap(Promise.all([f(),E(),v()]));case 2:return e=c.sent,t=Object(d.a)(e,3),n=t[0],r=t[1],a=t[2],c.abrupt("return",n.map(function(e){var t=r.find(function(t){return t.id===e.userId}),n=a.filter(function(t){return t.postId===e.id});return Object(l.a)({},e,{user:t,comments:n})}));case 8:case"end":return c.stop()}})},D=Object(s.b)(function(e){return{posts:N(e.posts),isLoading:w(e.loading),loaded:j(e.loading),error:L(e.loading),filteredPosts:P(e.posts)}},function(e){return{setPosts:function(t){return e(function(e){return{type:"SET_POSTS",value:e}}(t))},changeLoading:function(t){return e(function(e){return{type:"CHANGE_LOADING",value:e}}(t))},changeLoaded:function(t){return e(function(e){return{type:"CHANGE_LOADED",value:e}}(t))},changeError:function(t){return e(function(e){return{type:"CHANGE_ERROR",value:e}}(t))},setFilterPosts:function(t){return e(function(e){return{type:"FILTER_POSTS",value:e}}(t))}}})(function(e){var t=e.setPosts,n=e.changeLoading,c=e.changeLoaded,o=e.changeError,s=e.posts,u=e.isLoading,l=e.loaded,m=e.error,f=e.setFilterPosts,E=e.filteredPosts,v=Object(r.useState)(""),h=Object(d.a)(v,2),b=h[0],g=h[1],O=function(){var e;return i.a.async(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(!0),r.next=4,i.a.awrap(A());case 4:e=r.sent,t(e),n(!1),c(!0),o(!1),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),o(!0);case 14:case"end":return r.stop()}},null,null,[[0,11]])},y=p.a.debounce(function(e){var t=e.toLowerCase().trim();g(t);var n=s.filter(function(e){return e.title.includes(t)||e.body.includes(t)});0===t.length&&(n=[]),f(n)},500),N=0!==b.length?E:s;return a.a.createElement("div",null,0===s.length&&!m&&!u&&a.a.createElement("button",{className:"load",type:"button",onClick:O},"Load"),u&&!m&&a.a.createElement("div",{className:"loading"},"Loading..."),l&&!u&&a.a.createElement("div",null,a.a.createElement("label",{htmlFor:"search"},"Search",a.a.createElement("input",{id:"search",className:"input",type:"search",onChange:function(e){return y(e.target.value)}})),N.map(function(e){return a.a.createElement(x,{post:e,key:e.id})})),m&&a.a.createElement("div",{className:"button_container"},a.a.createElement("p",{className:"error"},"Error occurred"),a.a.createElement("button",{className:"load",type:"button",onClick:O},"Try again")))}),k=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of posts"),a.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(s.a,{store:I},a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.c4c69e34.chunk.js.map