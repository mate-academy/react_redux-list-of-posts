(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},26:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),s=n.n(o),c=n(2),u=(n(26),n(6)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DEL_POST":return e.filter(function(e){return e.id!==t.post});case"DEL_COMMENT":return e.map(function(e){return e.id===t.post?Object(u.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.comment})}):e});default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ISLOADING":return t.isLoading;default:return e}},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},d=n(4),p=n(14),f=function(e){return e.isLoading},E=function(e){return e.posts},h=function(e){return e.query},y=Object(d.c)({posts:i,isLoading:l,query:m}),_=Object(d.d)(y,Object(d.a)(p.a)),b=n(10),g=n.n(b),v=n(16),N=n(15),L=Object(c.b)(null,{delPost:function(e){return{type:"DEL_POST",post:e}}})(function(e){var t=e.postId,n=e.postContent,r=e.delPost;return a.a.createElement(a.a.Fragment,null,a.a.createElement("button",{type:"button",className:"comment__delete",onClick:function(){return r(t)}},"X"),a.a.createElement("h1",{className:"post__title"},n.title),a.a.createElement("p",{className:"post__body"},n.body))}),O=function(e){var t=e.person,n=e.address;return a.a.createElement("div",{className:"post__author"},a.a.createElement("p",{className:"author__name"},t.name),a.a.createElement("p",{className:"author__email"},t.email),a.a.createElement("address",{className:"author__address"},n?t.address.street:""))},j=Object(c.b)(null,{delComment:function(e,t){return{type:"DEL_COMMENT",post:e,comment:t}}})(function(e){var t=e.postId,n=e.postComments,r=e.delComment;return a.a.createElement("div",{className:"post__comments"},n.map(function(e){return a.a.createElement("div",{className:"comment"},a.a.createElement("button",{type:"button",className:"comment__delete",onClick:function(){return r(t,e.id)}},"X"),a.a.createElement("p",null,e.body),a.a.createElement(O,{person:e}))}))}),C=function(e){return e.posts.map(function(e){return a.a.createElement("section",{className:"post"},a.a.createElement(L,{postId:e.id,postContent:e}),a.a.createElement(O,{person:e.user,address:!0}),a.a.createElement(j,{postId:e.id,postComments:e.comments}))})},I=function(e){var t=e.posts,n=e.isLoading,r=e.query,o=e.setPosts,s=e.setIsLoading,c=e.setQuery,i=function(e,t,n){return e.map(function(e){return Object(u.a)({},e,{user:n.find(function(t){return t.id===e.userId}),comments:t.filter(function(t){return t.postId===e.id})})})};return n?a.a.createElement("p",{className:"loading"},"Loading..."):a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"Dynamic list of posts"),n||0===t.length?a.a.createElement("button",{type:"button",className:"post__button",onClick:function(){var e,t,n,r,a,c;return g.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return s(!0),u.next=3,g.a.awrap(Promise.all([fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})]));case 3:e=u.sent,t=Object(v.a)(e,3),n=t[0],r=t[1],a=t[2],c=i(n,r,a),o(c),s(!1);case 11:case"end":return u.stop()}})}},"Load"):a.a.createElement(a.a.Fragment,null,a.a.createElement(N.DebounceInput,{className:"search",type:"search",debounceTimeout:500,placeholder:"search",onChange:function(e){var t=e.target;c(t.value.trim().toLowerCase())}}),a.a.createElement(C,{posts:t.filter(function(e){return(e.title+e.body).toLowerCase().includes(r)})})))},S=Object(c.b)(function(e){return{posts:E(e),isLoading:f(e),query:h(e)}},{setPosts:function(e){return{type:"SET_POSTS",posts:e}},setIsLoading:function(e){return{type:"SET_ISLOADING",isLoading:e}},setQuery:function(e){return{type:"SET_QUERY",query:e}}})(I),w=function(){return a.a.createElement(S,null)};s.a.render(a.a.createElement(c.a,{store:_},a.a.createElement(w,null)),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.ab0716eb.chunk.js.map