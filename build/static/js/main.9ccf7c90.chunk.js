(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(37)},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(7),s=n.n(a),c=n(1),i=n(17),u=n(6),l=n(13),m=n(5),p=n(2);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(e,t){return e.findIndex(function(e){return e.id===t})},E=function(e,t){var n=b(e,t);return[].concat(Object(p.a)(e.slice(0,n)),Object(p.a)(e.slice(n+1)))},O=function(e,t,n){var r=b(e,t),o=b(e[r].comments,n);return[].concat(Object(p.a)(e.slice(0,r)),[d({},e[r],{comments:[].concat(Object(p.a)(e[r].comments.slice(0,o)),Object(p.a)(e[r].comments.slice(o+1)))})],Object(p.a)(e.slice(r+1)))},h=function(e,t){switch(t.type){case"START_LOADING":return d({},e,{buttonText:"loading...",isLoading:!0});case"HANDLE_SUCCESS":return d({},e,{postListFromServer:t.postsWithComments,postList:t.postsWithComments,filteredList:t.postsWithComments,isLoaded:!0,isLoading:!1,isError:!1});case"HANDLE_ERROR":return d({},e,{buttonText:"try again",isLoaded:!1,isLoading:!1,isError:!0});case"FILTER_LIST":return d({},e,{filteredList:t.searchStr?e.postList.filter(function(e){return e.title.indexOf(t.searchStr)>=0||e.body.indexOf(t.searchStr)>=0}):Object(p.a)(e.postList)});case"DELETE_COMMENT":return d({},e,{postList:O(e.postList,t.postId,t.commentId),filteredList:O(e.filteredList,t.postId,t.commentId)});case"DELETE_POST":return d({},e,{postList:E(e.postList,t.postId),filteredList:E(e.filteredList,t.postId)});case"RESET_LIST":return d({},e,{postList:Object(p.a)(e.postListFromServer),filteredList:Object(p.a)(e.postListFromServer)});default:return e}},L=function(e){return fetch("".concat("https://jsonplaceholder.typicode.com/").concat(e)).then(function(e){return e.json()})};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v=function(e,t){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{user:t.find(function(t){return t.id===e.userId})})})};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var S=function(e,t){return e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(n,!0).forEach(function(t){Object(m.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{comments:t.filter(function(t){return t.postId===e.id})})})},g=Object(u.c)(h,{postListFromServer:[],postList:[],filteredList:[],isLoading:!1,isLoaded:!1,isError:!1,buttonText:"Load"},Object(u.a)(l.a)),P=(n(30),n(31),n(32),n(33),function(e){var t=e.address,n=t.street,r=t.suite,a=t.city,s=t.zipcode;return 0!==Object.keys(t).length?o.a.createElement("div",{className:"address"},o.a.createElement("span",null,n),o.a.createElement("span",null,r),o.a.createElement("span",null,a),o.a.createElement("span",null,s)):null});P.defaultProps={address:{}};var w=P;w.defaultProps={address:{}};var T=function(e){var t=e.user,n=t.name,r=t.email,a=t.address;return o.a.createElement("div",{className:"user"},o.a.createElement("h3",null,n),o.a.createElement("a",{href:"mailto:".concat(r)},r),o.a.createElement(w,{address:a}))},D=function(e){var t=e.comment,n=e.deleteCommentFromPost,r=t.body;return o.a.createElement(o.a.Fragment,null,o.a.createElement(T,{user:t}),o.a.createElement("p",null,r),o.a.createElement("button",{onClick:function(){n(t.postId,t.id)},type:"button",className:"button-delete-item"},"delete comment"))},I=Object(c.b)(null,function(e){return{deleteCommentFromPost:function(t,n){return e(function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}(t,n))}}})(D),C=(n(34),function(e){var t=e.comments;return o.a.createElement("div",{className:"comment-list"},t.map(function(e){return o.a.createElement(I,{key:e.id,comment:e})}))}),N=(n(35),function(e){var t=e.post,n=e.deletePostFromPostList,r=t.title,a=t.body,s=t.user,c=t.comments;return o.a.createElement("div",{className:"post"},o.a.createElement("h2",null,r),o.a.createElement("p",null,a),o.a.createElement("button",{onClick:function(){n(t.id)},type:"button",className:"button-delete-item"},"delete post"),o.a.createElement("hr",null),o.a.createElement(T,{user:s}),o.a.createElement(C,{comments:c}))}),k=Object(c.b)(null,function(e){return{deletePostFromPostList:function(t){return e(function(e){return{type:"DELETE_POST",postId:e}}(t))}}})(N),F=function(e){return e.posts.map(function(e){return o.a.createElement(k,{key:e.id,post:e})})},_=Object(c.b)(function(e){return{posts:e.filteredList}})(F),x=n(14),R=n(15),A=n(18),V=n(16),W=n(19),H=(n(36),function(e){function t(){var e,n;Object(x.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Object(A.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(o)))).state={searchValue:""},n.handleSearchText=function(e){var t=e.target.value;n.setState({searchValue:t})},n.handleSubmitPosts=function(e){e.preventDefault(),(0,n.props.filterList)(n.state.searchValue)},n.handleShowAll=function(){n.setState({searchValue:""}),(0,n.props.filterList)("")},n.resetList=function(){n.setState({searchValue:""}),(0,n.props.resetPostList)()},n}return Object(W.a)(t,e),Object(R.a)(t,[{key:"render",value:function(){var e=this.state.searchValue;return o.a.createElement("div",null,o.a.createElement("form",{className:"search-form",onSubmit:this.handleSubmitPosts},o.a.createElement("input",{placeholder:"type here...",onChange:this.handleSearchText,value:e}),o.a.createElement("button",{type:"submit"},"Search")),o.a.createElement("button",{type:"submit",onClick:this.handleShowAll},"Show all"),o.a.createElement("button",{onClick:this.resetList,type:"button"},"Reset all"))}}]),t}(r.Component)),M=Object(c.b)(null,function(e){return{filterList:function(t){return e(function(e){return{type:"FILTER_LIST",searchStr:e}}(t))},resetPostList:function(){return e({type:"RESET_LIST"})}}})(H),B=function(e){var t=e.loadDataFromServer,n=e.filteredList,r=e.isLoaded,a=e.isLoading,s=e.buttonText,c=e.isError;if(!r){var i=null;return c&&(i=o.a.createElement("p",null,"No data, try again")),o.a.createElement("div",null,i,o.a.createElement("button",{type:"submit",disabled:a,onClick:function(){t()}},s))}return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"header"},o.a.createElement("h1",null,"Dynamic list of posts"),o.a.createElement("h2",null,"Posts: ".concat(n.length)),o.a.createElement(M,null)),o.a.createElement(_,null))};B.defaultProps={loadDataFromServer:function(){},filteredList:[],isLoaded:!1,isLoading:!1,isError:!1,buttonText:""};var G=B,J=Object(c.b)(function(e){return{postListFromServer:e.postListFromServer,postList:e.postList,filteredList:e.filteredList,isLoading:e.isLoading,isLoaded:e.isLoaded,isError:e.isError,buttonText:e.buttonText}},function(e){return{loadDataFromServer:function(){return e(function(e){e({type:"START_LOADING"}),Promise.all([L("comments"),L("posts"),L("users")]).then(function(t){var n=Object(i.a)(t,3),r=n[0],o=n[1],a=n[2],s=S(v(o,a),r);e(function(e){return{type:"HANDLE_SUCCESS",postsWithComments:e}}(s))}).catch(function(){return e({type:"HANDLE_ERROR"})})})}}})(G);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(c.a,{store:g},o.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.9ccf7c90.chunk.js.map