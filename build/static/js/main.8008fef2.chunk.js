(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(38)},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(2),c=n(12),s=n.n(c),u=n(1),i=n.n(u),l=n(9),m=n(4),p=n(5),d=n(8),f=n(6),b=n(7),O=(n(33),n(14));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach(function(t){Object(O.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=" https://jsonplaceholder.typicode.com",y=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/posts"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/comments"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(h,"/users"));case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(i.a.mark(function e(){var t,n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return t=e.sent,e.next=5,j();case 5:return n=e.sent,e.next=8,P();case 8:return r=e.sent,a=t.map(function(e){return E({},e,{userData:r.find(function(t){return t.id===e.userId}),userComments:n.filter(function(t){return e.id===t.postId})})}),e.abrupt("return",a);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w=(n(34),function(e){var t=e.userData;return a.a.createElement("div",{className:"user"},a.a.createElement("span",{className:"user_name"},t.name,", the \xa0"),a.a.createElement("span",{className:"user_nickname"},"(",t.username,")"),a.a.createElement("div",{className:"user_email"},t.email))}),g=(n(35),n(18)),T=n(11),D=n(21);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach(function(t){Object(O.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(e){return e.loadedPosts},N=function(e){return e.postTemplate},k=function(e){return e.isLoaded},I=function(e){return e.isLoading},x=function(e){return e.commentListIsOpen},M=Object(T.createStore)(function(e,t){switch(t.type){case"GET_ISLOADING":return C({},e,{isLoading:!0});case"SET_POSTS":return C({},e,{isLoading:!1,isLoaded:!0,loadedPosts:t.value,postTemplate:t.value});case"SET_FILTERED_POSTS":return C({},e,{loadedPosts:Object(g.a)(e.postTemplate).filter(function(e){return(e.title&&e.body).toLowerCase().includes(t.value.toLowerCase().trim())})});case"SET_COMMENT_LIST":return C({},e,{commentListIsOpen:!e.commentListIsOpen});case"DELETE_COMMENT":var n=e.loadedPosts.map(function(e){return e.id===t.postId?C({},e,{userComments:e.userComments.filter(function(e){return e.id!==t.commentId})}):e});return C({},e,{loadedPosts:n});case"DELETE_POST":return C({},e,{loadedPosts:Object(g.a)(e.loadedPosts).filter(function(e){return e.id!==t.value})});default:return e}},{loadedPosts:[],postTemplate:[],isLoaded:!1,isLoading:!1,commentListIsOpen:!1},Object(D.composeWithDevTools)()),A=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).handleCommentDelete=function(e,t){n.props.deleteComment(e,t)},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.commentData;return a.a.createElement("div",null,a.a.createElement("div",{className:"comment",key:t.id},a.a.createElement("p",{className:"comment_name"},t.id),a.a.createElement("p",{className:"comment_name"},t.name),a.a.createElement("p",{className:"comment_body"},t.body),a.a.createElement("p",{className:"comment_email"},t.email),a.a.createElement("button",{onClick:function(){return e.handleCommentDelete(t.postId,t.id)}},"delete")))}}]),t}(a.a.Component),F=Object(o.b)(function(e){return{}},function(e){return{deleteComment:function(t,n){return e(function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}(t,n))}}})(A),G=(n(36),function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).handleClick=function(){n.props.setCommentList()},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.commentData,n=e.commentListIsOpen;return a.a.createElement("div",null,a.a.createElement("button",{className:"commentlist_load-buttom",type:"button",onClick:this.handleClick},n?"Hide comments":"Show comments"),n&&t.map(function(e){return a.a.createElement(F,{commentData:e,key:e.id})}))}}]),t}(a.a.Component)),J=Object(o.b)(function(e){return{commentListIsOpen:x(e)}},function(e){return{setCommentList:function(){return e({type:"SET_COMMENT_LIST"})}}})(G),R=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).handlePostDelete=function(e){n.props.deletePost(e)},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.postData;return a.a.createElement("div",null,a.a.createElement("div",{className:"postlist_title"},t.id," "),a.a.createElement("div",{className:"postlist_title"},t.title," "),a.a.createElement("div",{className:"postlist_body"},t.body," "),a.a.createElement("div",null,a.a.createElement(w,{userData:t.userData})),a.a.createElement("div",null,a.a.createElement(J,{commentData:t.userComments})),a.a.createElement("button",{onClick:function(){return e.handlePostDelete(t.id)},className:"commentlist_load-buttom"},"delete"))}}]),t}(a.a.Component),B=Object(o.b)(function(e){return{}},function(e){return{deletePost:function(t){return e(function(e){return{type:"DELETE_POST",value:e}}(t))}}})(R),H=(n(37),function(e){var t=e.loadedPosts;return a.a.createElement("div",null,t.map(function(e){return a.a.createElement("div",{className:"postlist_item",key:e.id},a.a.createElement("div",null,a.a.createElement(B,{postData:e})))}))}),W=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(a)))).handleLoad=Object(l.a)(i.a.mark(function e(){var t,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props,r=t.setPosts,(0,t.getLoading)(),e.next=4,L();case 4:a=e.sent,r(a);case 6:case"end":return e.stop()}},e)})),n.filteringPosts=function(e){(0,n.props.setFilteredPosts)(e.target.value)},n}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoaded,n=e.isLoading;return t?a.a.createElement("div",{className:"app"},a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement("input",{type:"text",placeholder:"Search post by body or title...",onChange:this.filteringPosts,className:"app_search-input"}))),a.a.createElement(H,{loadedPosts:this.props.loadedPosts})):a.a.createElement("button",{className:"app_load-button",type:"button",onClick:this.handleLoad,hidden:t,disabled:n},n?"Loading...":"Load")}}]),t}(a.a.Component),q=Object(o.b)(function(e){return{loadedPosts:S(e),postTemplate:N(e),isLoaded:k(e),isLoading:I(e)}},function(e){return{getLoading:function(){return e({type:"GET_ISLOADING"})},setPosts:function(t){return e(function(e){return{type:"SET_POSTS",value:e}}(t))},setFilteredPosts:function(t){return e(function(e){return{type:"SET_FILTERED_POSTS",value:e}}(t))}}})(W);s.a.render(a.a.createElement(o.a,{store:M},a.a.createElement(q,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.8008fef2.chunk.js.map