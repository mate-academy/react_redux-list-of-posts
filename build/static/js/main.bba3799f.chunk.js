(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},25:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(6),c=n.n(r),s=n(2),l=n(5),m=(n(25),n(7)),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DELETE_POST":return e.filter(function(e){return e.id!==t.idPost});case"DELETE_COMMENT":return e.map(function(e){return Object(m.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.idComment})})});default:return e}},u=Object(s.b)(function(e){return{state:e.posts}},{deletePost:function(e){return{type:"DELETE_POST",idPost:e}}})(function(e){var t=e.name,n=e.email,a=e.city,r=e.idPost,c=e.deletePost;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"userInfo"}," Name: ",o.a.createElement("span",{className:"userInfo__name"},t),o.a.createElement("span",{className:"userInfo__email"}," Email: ",o.a.createElement("a",{href:" "},n)),o.a.createElement("span",{className:"userInfo__adress"}," Sity: ",o.a.createElement("a",{href:" "},a))),o.a.createElement("button",{type:"button",className:"button-delete",onClick:function(){return c(r)}},"Delete post"))}),d=Object(s.b)(function(e){return{posts:e.posts}},{deleteComment:function(e){return{type:"DELETE_COMMENT",idComment:e}}})(function(e){var t=e.comment,n=e.deleteComment;return o.a.createElement("li",{key:t.id},o.a.createElement("h3",{className:"comment__name"},t.name),o.a.createElement("button",{type:"button",className:"button-delete",onClick:function(){return n(t.id)}},"Delete comment"),o.a.createElement("p",{className:"comment__body"},t.body),o.a.createElement("div",{className:"comment__sender"},"Sender: ",o.a.createElement("a",{href:" "},t.email)))}),f=function(e){var t=e.comments;return o.a.createElement(o.a.Fragment,null,t.length>0?o.a.createElement(o.a.Fragment,null,o.a.createElement("h2",{className:"comment__title"},"Comments:"),o.a.createElement("ol",{type:"1"},t.map(function(e){return o.a.createElement(d,{comment:e})}))):o.a.createElement("h3",null,"No comments for this post"))},E=function(e){var t=e.title,n=e.body,a=e.name,r=e.email,c=e.city,s=e.idPost,l=e.comments;return o.a.createElement("div",{className:"post",key:s},o.a.createElement("h2",{className:"post__title"},t),o.a.createElement("p",{className:"post__body"},'"',n,'"'),o.a.createElement(u,{name:a,email:r,city:c,idPost:s}),o.a.createElement("hr",{className:"line"}),o.a.createElement(f,{comments:l}))},p=function(e){var t=e.filteredPost;return o.a.createElement("section",{className:"postList"},console.log(t),t.length?t.map(function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(E,{title:e.title,body:e.body,name:e.user.name,email:e.user.email,city:e.user.address.city,idPost:e.id,comments:e.comments}))}):o.a.createElement("h3",{className:"postList__not-found"},"Post not found..."))},b=n(11),h=n.n(b),N="https://jsonplaceholder.typicode.com/",_=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"CHANGE_CONTENT":return!0;default:return e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Load list of posts";switch((arguments.length>1?arguments[1]:void 0).type){case"START_LOAADING":return"Loading...";default:return e}};var v=Object(s.b)(function(e){return{posts:e.posts,loadingButton:e.loadingButton,visibleContent:e.visibleContent}},{loadPosts:function(){return function(e){var t,n,a,o,r,c;return h.a.async(function(s){for(;;)switch(s.prev=s.next){case 0:return e({type:"START_LOAADING"}),s.next=3,h.a.awrap(Promise.all([fetch("".concat(N,"posts")).then(function(e){return e.json()}),fetch("".concat(N,"users")).then(function(e){return e.json()}),fetch("".concat(N,"comments")).then(function(e){return e.json()})]));case 3:t=s.sent,n=Object(l.a)(t,3),a=n[0],o=n[1],r=n[2],c=a.map(function(e){return Object(m.a)({},e,{user:o.find(function(t){return t.id===e.userId}),comments:r.filter(function(t){return t.postId===e.id})})}),e({type:"SET_POSTS",posts:c}),e({type:"CHANGE_CONTENT"});case 11:case"end":return s.stop()}})}}})(function(e){var t=e.posts,n=e.loadingButton,r=e.visibleContent,c=e.loadPosts,s=Object(a.useState)(""),m=Object(l.a)(s,2),i=m[0],u=m[1],d=Object(a.useState)(!1),f=Object(l.a)(d,2),E=f[0],b=f[1];return o.a.createElement("div",{className:"main"},o.a.createElement("h1",{className:"title"},"Dynamic list of posts"),r?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"input"},o.a.createElement("h2",{className:"input__title"},"Search post: "),o.a.createElement("input",{type:"text",className:"input__sear\u0441h",value:i,onChange:function(e){u(e.target.value)}})),o.a.createElement(p,{filteredPost:function(e){var n=e.trim().toLowerCase();return 0===e.length?t:t.filter(function(e){return!!(e.body+e.title).toLowerCase().includes(n)&&e})}(i)})):o.a.createElement("button",{disabled:E,type:"button",onClick:function(){b(!0),c()},className:"loadButton"},n))}),g=n(4),O=n(14),C=Object(g.c)({posts:i,loadingButton:y,visibleContent:_}),T=Object(g.d)(C,Object(g.a)(O.a));c.a.render(o.a.createElement(s.a,{store:T},o.a.createElement(v,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bba3799f.chunk.js.map