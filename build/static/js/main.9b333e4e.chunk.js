(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(25)},24:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),l=n(1),m=n(4),s=n(13),i=n(5),u=n(12),d="ADD_DATA",p="LOAD_DATA",f="DELETE_POST",E="DELETE_COMMENT",h=function(e){return{type:p,payload:e}},b={data:[],isLoading:!1,isReady:!0},y=function(){return function(e){v.dispatch(h()),Promise.all([fetch("https://jsonplaceholder.typicode.com/posts").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/comments").then(function(e){return e.json()}),fetch("https://jsonplaceholder.typicode.com/users").then(function(e){return e.json()})]).then(function(t){var n,a=Object(s.a)(t,3),c=a[0],r=a[1],o=a[2];return e((n=c.map(function(e){return Object(m.a)({},e,{user:o.find(function(t){return t.id===e.userId}),comments:r.filter(function(t){return t.postId===e.id})})}),{type:d,payload:n}),v.dispatch(h()))})}},v=Object(i.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return Object(m.a)({},e,{data:t.payload});case p:return Object(m.a)({},e,{isLoading:!e.isLoading});case f:return Object(m.a)({},e,{data:e.data.filter(function(e){return e.id!==t.payload})});case E:return Object(m.a)({},e,{data:e.data.map(function(e){return e.id===t.postId?Object(m.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e})});default:return e}},Object(i.a)(u.a));n(24);var N=function(e){var t=e.user,n=t.name,a=t.email;return c.a.createElement("div",null,c.a.createElement("h3",{className:"user-name"},n),c.a.createElement("p",null,a))},j=Object(l.b)(function(e){return{data:e.data}},{handleDeleteComment:function(e,t){return{type:E,postId:e,commentId:t}}})(function(e){var t=e.postId,n=e.comment,a=e.handleDeleteComment,r=n.id,o=n.name,l=n.body,m=n.email;return c.a.createElement("div",{className:"comment"},c.a.createElement("h3",{className:"comment-name"},o),c.a.createElement("p",{className:"comment-body"},l),c.a.createElement("p",{className:"comment-email"},c.a.createElement("span",null,"By "),m),c.a.createElement("button",{onClick:function(){return a(t,r)},className:"delete-comment",type:"button"},"Delete comment"),c.a.createElement("hr",null))}),g=function(e){var t=e.postId,n=e.comments;return c.a.createElement("div",null,n.map(function(e){return c.a.createElement(j,{comment:e,postId:t,key:e.id})}))},O=Object(l.b)(function(e){return{data:e.data}},{handleDeletePost:function(e){return{type:f,payload:e}}})(function(e){var t=e.post,n=e.handleDeletePost,a=t.title,r=t.body,o=t.user,l=t.id,m=t.comments;return c.a.createElement("div",{className:"posts"},c.a.createElement("div",{className:"flip-container"},c.a.createElement("button",{className:"delete-post",onClick:function(){return n(l)},type:"button"},"Delete"),c.a.createElement("div",{className:"flipper"},c.a.createElement("div",{className:"front"},c.a.createElement("h2",{className:"front-heading"},a),c.a.createElement("p",{className:"front-body"},'"'.concat(r,'"')),c.a.createElement(N,{user:o})),c.a.createElement("div",{className:"back"},c.a.createElement("p",{className:"back-heading"},"Comments:"),c.a.createElement(g,{comments:m,postId:l})))))}),D=Object(l.b)(function(){return function(e){return{data:e.data}}})(function(e){var t=e.data;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{className:"search",type:"text",placeholder:"Search"}),t.map(function(e){return c.a.createElement(O,{post:e,key:e.id})}))}),L=Object(l.b)(function(e){return{data:e.data,isLoading:e.isLoading}},function(e){return{getPosts:function(){return e(y())}}})(function(e){var t=e.data,n=e.isLoading,a=e.getPosts;return n?c.a.createElement("div",{className:"hoja"},"Loading..."):0===t.length?c.a.createElement("div",{className:"App"},c.a.createElement("button",{className:"btnLoad",type:"button",onClick:a},"Load Posts")):c.a.createElement("div",{className:"App"},c.a.createElement(D,null))});o.a.render(c.a.createElement(l.a,{store:v},c.a.createElement(L,null)),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.9b333e4e.chunk.js.map