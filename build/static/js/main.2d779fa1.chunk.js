(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{137:function(e,t,n){e.exports=n(262)},261:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(22),u=n.n(o),c=n(19),l=n(33),i=n(120),s=n(17),p=n(127),E={SAVE:"SAVE",SET_LOAD_ERROR:"SET_LOAD_ERROR",START_LOADING:"START_LOADING",STOP_LOADING:"STOP_LOADING",DELETE_POST:"DELETE_POST",DELETE_COMMENT:"DELETE_COMMENT",FILTER:"FILTER",FILTER_BUTTON:"FILTER_BUTTON"},f=function(e){return function(t){t(function(e){return{type:E.FILTER_BUTTON,payload:e}}(e))}},d=function(e){return function(t){t(function(e){return{type:E.FILTER,payload:e}}(e))}},m=function(e){return function(t){t(function(e){return{type:E.DELETE_COMMENT,commentId:e}}(e))}},O=function(e){return function(t){t(function(e){return{type:E.DELETE_POST,postId:e}}(e))}},T=["https://jsonplaceholder.typicode.com/posts","https://jsonplaceholder.typicode.com/users","https://jsonplaceholder.typicode.com/comments"],b=function(){return function(e){e({type:E.START_LOADING});var t=T.map(function(e){return fetch(e).then(function(e){return e.json()})});Promise.all(t).then(function(t){var n;e((n=t,{type:E.SAVE,payload:n}))}).catch(function(t){return e(function(e){return{type:E.SET_LOAD_ERROR,payload:e}}(t.message))}).finally(function(){return e({type:E.STOP_LOADING})})}},L={isLoading:!1,error:!1,preparedPosts:[],filter:""};function y(e){var t=Object(p.a)(e,3),n=t[0],r=t[1],a=t[2];return n&&r&&a?n.map(function(e){return Object(s.a)({},e,{user:r.find(function(t){return e.userId===t.id}),comments:a.filter(function(t){return t.postId===e.id})})}):[]}var P=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Object(l.c)(),_=[i.a],h=Object(l.d)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SAVE:var n=t.payload;return Object(s.a)({},e,{error:!1,preparedPosts:y(n)});case E.SET_LOAD_ERROR:return Object(s.a)({},e,{error:!0,preparedPosts:[]});case E.START_LOADING:return Object(s.a)({},e,{isLoading:!0});case E.STOP_LOADING:return Object(s.a)({},e,{isLoading:!1});case E.DELETE_POST:var r=t.postId;return Object(s.a)({},e,{preparedPosts:e.preparedPosts.filter(function(e){return e.id!==r})});case E.DELETE_COMMENT:var a=t.commentId;return Object(s.a)({},e,{preparedPosts:e.preparedPosts.map(function(e){return Object(s.a)({},e,{comments:e.comments.filter(function(e){return e.id!==a})})})});case E.FILTER:var o=t.payload;return Object(s.a)({},e,{filter:o});case E.FILTER_BUTTON:switch(t.payload){case"Post Text":return Object(s.a)({},e,{preparedPosts:e.preparedPosts.filter(function(t){return t.body.includes(e.filter)})});case"Post Title":return Object(s.a)({},e,{preparedPosts:e.preparedPosts.filter(function(t){return t.title.includes(e.filter)})});default:return Object(s.a)({},e,{preparedPosts:e.preparedPosts})}default:return e}},P(l.a.apply(void 0,_))),D=n(263),v=n(42),j=function(e){return e},R=Object(v.a)(j,function(e){return e.preparedPosts}),g=Object(v.a)(j,function(e){return e.filter}),A=Object(v.a)(j,function(e){return e.error}),I=Object(v.a)(j,function(e){return e.isLoading}),S=n(29),N=function(e){var t=e.user;return a.a.createElement("td",null,t.name)},C=Object(c.b)(null,function(e){return{deleteComment:function(t){return e(m(t))}}})(function(e){var t=e.comment,n=e.deleteComment;return a.a.createElement("tr",null,a.a.createElement("td",null,a.a.createElement("p",null,"Author:",t.name),a.a.createElement("p",null,"Email:",t.email)),a.a.createElement("td",null,t.body),a.a.createElement("td",null,a.a.createElement(D.a,{icon:!0},a.a.createElement(S.a,{name:"delete",onClick:function(e){return function(e,t){e.preventDefault(),n(t)}(e,t.id)}}))))}),k=function(e){var t=e.comments;return a.a.createElement("table",null,t.map(function(e){return a.a.createElement(C,{comment:e,key:e.id})}))},F=Object(c.b)(null,function(e){return{deletePost:function(t){return e(O(t))}}})(function(e){var t=e.post,n=e.deletePost;return a.a.createElement("tr",null,a.a.createElement("td",null,t.title),a.a.createElement("td",null,t.body),a.a.createElement(N,{user:t.user}),a.a.createElement(k,{comments:t.comments}),a.a.createElement("td",null,a.a.createElement(D.a,{icon:!0},a.a.createElement(S.a,{name:"user delete",onClick:function(e){return function(e,t){e.preventDefault(),n(t)}(e,t.id)}}))))}),w=function(e){var t=e.posts;return a.a.createElement("table",{className:"ui red table"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Title"),a.a.createElement("th",null,"The text of the post"),a.a.createElement("th",null,"Authors name"),a.a.createElement("th",null,"post comments"))),a.a.createElement("tbody",null,t.map(function(e){return a.a.createElement(F,{post:e,key:e.id})})))},G=n(269),M=function(e){var t=e.filterbutton,n=e.filterCanged,r=e.filter,o=e.loadData;return a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,{type:"text",placeholder:"What are you searching?",onChange:function(e){return n(e.target.value)},value:r}),a.a.createElement(D.a,{type:"button",onClick:function(){return t("Post Text")}},"Post Text"),a.a.createElement(D.a,{type:"button",onClick:function(){return t("Post Title")}},"Post Title"),a.a.createElement(D.a,{type:"button",onClick:function(){return o(!0)},color:"facebook"},"Refresh"))};var x=Object(c.b)(function(e){return{filter:g(e)}},function(e){return{loadData:function(){return e(b())},filterCanged:function(t){return e(d(t))},filterbutton:function(t){return e(f(t))}}})(M);M.defaultProps={filter:""};var B=x,U=(n(261),function(e){var t=e.isLoading,n=e.error,r=e.preparedPosts,o=e.loadData;return t?a.a.createElement("p",null,"loading..."):n?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"Error occurred!!!"),a.a.createElement(D.a,{type:"button",onClick:function(){return o(!0)}},"Try Again!")):r&&r.length?a.a.createElement("div",{className:"App"},a.a.createElement("h1",null,"List of posts"),a.a.createElement(B,null),a.a.createElement(w,{posts:r})):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"No posts yet!"),a.a.createElement(D.a,{type:"button",onClick:function(){return o(!0)},color:"green"},"Load"))});var V=Object(c.b)(function(e){return{preparedPosts:R(e),error:A(e),isLoading:I(e)}},function(e){return{loadData:function(){return e(b())},stopLoading:function(t){return e({type:E.STOP_LOADING,isLoading:t})}}})(U);U.defaultProps={error:!1,isLoading:!1},u.a.render(a.a.createElement(c.a,{store:h},a.a.createElement(V,null)),document.getElementById("root"))}},[[137,1,2]]]);
//# sourceMappingURL=main.2d779fa1.chunk.js.map