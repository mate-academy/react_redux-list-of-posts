(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(31)},27:function(e,t,n){},28:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(5),c=n.n(o),u=n(1),s=n(10),i=n.n(s),l=n(16),m=n(6),d=n(14),p=n(4),f=function(e){return fetch(e).then(function(e){return e.json()})},E=function(e){return{type:"SET_POSTS",posts:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"DELETE_COMMENT":return e.map(function(e){return e.id===t.postId?Object(m.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.commentId})}):e});case"DELETE_POST":return e.filter(function(e){return e.id!==t.postId});default:return e}},h=function(e){return{type:"SET_LOADING",value:e}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.value;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_QUERY":return t.query;default:return e}},I=function(e){return{type:"SET_ERROR",value:e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":return t.value;default:return e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_INITIALIZE":return t.value;default:return e}},w=function(e){return e.posts.filter(function(t){return(t.title+t.body).toLowerCase().includes(e.query)})},O=function(e){return e.error},S=function(e){return e.isLoading},N=function(e){return e.isInitialized},L=function(e,t,n){return e.map(function(e){return Object(m.a)({},e,{user:t.find(function(t){return t.id===e.userId}),comments:n.filter(function(t){return t.postId===e.id})})})},_=Object(p.c)({posts:v,isLoading:y,error:g,query:b,isInitialized:T}),j=Object(p.d)(_,Object(p.a)(d.a)),C=(n(27),n(28),n(15)),k=function(e){var t=e.user;return a.a.createElement("div",{className:"post__user"},a.a.createElement("p",null,"name: ",t.name),a.a.createElement("address",null,"city: ",t.address.city),a.a.createElement("address",null,"street: ",t.address.street," "),a.a.createElement("address",null,"suite: ",t.address.suite," "),a.a.createElement("a",{href:t.email},"email: ",t.email))},P={deleteComment:function(e,t){return{type:"DELETE_COMMENT",postId:e,commentId:t}}},D=Object(u.b)(function(){return{}},P)(function(e){var t=e.comment,n=e.deleteComment,r=e.postID;return a.a.createElement("div",{className:"comment"},a.a.createElement("p",null,t.name),a.a.createElement("p",null,t.body),a.a.createElement("a",{href:t.email},t.email),a.a.createElement("button",{className:"button",type:"button",onClick:function(){return n(r,t.id)}},"delete comment"))}),R=function(e){var t=e.postId,n=e.comments;return a.a.createElement("div",null,a.a.createElement("h3",{className:"comment-title"},"Comments"),n.map(function(e){return a.a.createElement(D,{comment:e,key:e.id,postID:t})}))},A={deletePost:function(e){return{type:"DELETE_POST",postId:e}}},q=Object(u.b)(function(){return{}},A)(function(e){var t=e.post,n=e.deletePost;return a.a.createElement("section",{className:"section"},a.a.createElement("div",{className:"post_header"},a.a.createElement("span",{className:"post"},"Post : ",t.id),a.a.createElement(k,{user:t.user})),a.a.createElement("button",{type:"button",onClick:function(){return n(t.id)},className:"button"},"delete post"),a.a.createElement("h2",null,t.title),a.a.createElement("span",null),a.a.createElement("p",null,t.body),a.a.createElement(R,{comments:t.comments,postId:t.id}))}),x=Object(u.b)(function(e){return{posts:w(e)}})(function(e){return e.posts.map(function(e){return a.a.createElement(q,{key:e.id,post:e})})}),z={setQuery:function(e){return{type:"SET_QUERY",query:e}},getPostsFromServer:function(){return function(e){var t,n,r,a,o;return i.a.async(function(c){for(;;)switch(c.prev=c.next){case 0:return e(I(!1)),e(h(!0)),c.prev=2,c.next=5,i.a.awrap(Promise.all([f("https://jsonplaceholder.typicode.com/posts"),f("https://jsonplaceholder.typicode.com/users"),f("https://jsonplaceholder.typicode.com/comments")]));case 5:t=c.sent,n=Object(l.a)(t,3),r=n[0],a=n[1],o=n[2],e(E(L(r,a,o))),e({type:"SET_INITIALIZE",value:!0}),c.next=17;break;case 14:c.prev=14,c.t0=c.catch(2),e(I(!0));case 17:e(h(!1));case 18:case"end":return c.stop()}},null,null,[[2,14]])}}},M=Object(u.b)(function(e){return{isLoading:S(e),error:O(e),isInitialized:N(e),posts:w(e)}},z)(function(e){var t=e.isLoading,n=e.error,r=e.isInitialized,o=e.setQuery,c=e.getPostsFromServer,u=e.posts;return a.a.createElement("div",{className:"App"},r&&!t&&a.a.createElement(C.DebounceInput,{debounceTimeout:1e3,className:"input",type:"search",placeholder:"Search...",onChange:function(e){var t=e.target.value;o(t.toLowerCase().trim())}}),!r&&n&&a.a.createElement("button",{type:"button",className:"button",disabled:t,onClick:c},t?"Loading...":"Try again"),!r&&!n&&a.a.createElement("button",{type:"button",disabled:t,onClick:c,className:"button"},t?"Loading...":"Load"),!t&&r&&0===u.length&&a.a.createElement("p",null," post is not found"),r&&a.a.createElement(x,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(u.a,{store:j},a.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.b4ac8072.chunk.js.map