(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(31)},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(1),c=n(5),s=n.n(c),i=n(10),l=n(9),u=n(11),d=n(4),m=n(14);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={GET_POSTS:"GET::POSTS",TOGGLE_LOADING:"TOGGLE::LOADING",FILTER:"FILTER",DELETE_POST:"DELETE::POST",DELETE_COMMENT:"DELETE::COMMENT",RESET:"RESET",HANDLE_INPUT:"HANDLE::INPUT"},y={posts:[],filteredPosts:[],isLoading:!1,isLoaded:!1,isFiltered:!1,searchWord:""},O=function(e){return{type:E.TOGGLE_LOADING,payload:e}},b=function(){return function(e){e(O(!0)),Promise.all([fetch("https://jsonplaceholder.typicode.com/posts"),fetch("https://jsonplaceholder.typicode.com/users"),fetch("https://jsonplaceholder.typicode.com/comments")]).then(function(e){var t=Object(u.a)(e,3),n=t[0],r=t[1],o=t[2];return Promise.all([n.json(),r.json(),o.json()])}).then(function(t){var n=Object(u.a)(t,3),r=n[0],o=n[1],a=n[2],c=o.reduce(function(e,t){return f({},e,Object(l.a)({},t.id,t.name))},{}),s=r.map(function(e){return f({},e,{user:c[e.userId],comments:a.filter(function(t){return t.postId===e.id})})});e(function(e){return{type:E.GET_POSTS,payload:e}}(s)),e(O("loaded"))})}};var P=Object(d.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case E.GET_POSTS:return f({},e,{posts:Object(i.a)(t.payload),filteredPosts:Object(i.a)(t.payload)});case E.TOGGLE_LOADING:return f({},e,{isLoading:!0,isLoaded:"loaded"===t.payload});case E.FILTER:return f({},e,{filteredPosts:e.posts.filter(function(t){return t.title.includes(e.searchWord)||t.body.includes(e.searchWord)}),isFiltered:""!==e.searchWord,searchWord:""});case E.DELETE_POST:var n=e.posts.filter(function(e){return e.id!==t.payload}),r=e.filteredPosts.filter(function(e){return e.id!==t.payload});return f({},e,{posts:n,filteredPosts:r});case E.DELETE_COMMENT:var o=e.posts.map(function(e){return f({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})})}),a=e.filteredPosts.map(function(e){return f({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})})});return f({},e,{posts:o,filteredPosts:a});case E.RESET:return f({},e,{filteredPosts:e.posts,isFiltered:!1});case E.HANDLE_INPUT:return f({},e,{searchWord:t.payload});default:return e}},Object(d.a)(m.a)),T=(n(25),function(e){var t=e.name,n=e.email,r=e.address;return o.a.createElement("div",null,o.a.createElement("p",{className:"name"},t),o.a.createElement("p",null,n),r&&o.a.createElement("p",null,"".concat(r.city,", ").concat(r.street,", ").concat(r.suite,",\n        ").concat(r.zipcode)))});T.defaultProps={address:null};var h=T,L=(n(26),function(e){var t=e.comment,n=e.deleteComment,r=t.body,a=t.email,c=t.name;return o.a.createElement("div",{className:"comment"},o.a.createElement("p",null,r),o.a.createElement(h,{name:c,email:a}),o.a.createElement("button",{type:"button",onClick:function(){return n(t.id)}},"Delete comment"))}),v=Object(a.b)(null,function(e){return{deleteComment:function(t){return e(function(e){return{type:E.DELETE_COMMENT,payload:e}}(t))}}})(L),j=(n(27),function(e){var t=e.comments;return o.a.createElement("div",{className:"comments"},t.map(function(e){return o.a.createElement(v,{comment:e,key:e.id})}))}),g=(n(28),function(e){var t=e.post,n=e.deletePost,r=t.user,a=t.comments;return o.a.createElement("div",{className:"post"},o.a.createElement("h2",{className:"post__title"},t.title),o.a.createElement("p",null,t.body),o.a.createElement(h,{name:r.name,email:r.email,address:r.address}),o.a.createElement("button",{type:"button",onClick:function(){return n(t.id)}},"Delete post"),o.a.createElement(j,{comments:a}))}),N=Object(a.b)(null,function(e){return{deletePost:function(t){return e(function(e){return{type:E.DELETE_POST,payload:e}}(t))}}})(g),D=(n(29),function(e){var t=e.posts;return o.a.createElement("div",{className:"container"},t.map(function(e){return o.a.createElement(N,{post:e,key:e.id})}))}),S=Object(a.b)(function(e){return{posts:e.isFiltered?e.filteredPosts:e.posts}})(D),I=(n(30),function(e){var t=e.isLoading,n=e.isLoaded,r=e.searchWord,a=e.getPosts,c=e.resetPostsFiltering,s=e.handleSearchInputChange,i=e.filterPosts;return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Static list of posts"),n&&o.a.createElement(o.a.Fragment,null,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i()}},o.a.createElement("input",{type:"text",value:r,onChange:function(e){return s(e.target.value)}})),o.a.createElement("button",{type:"button",onClick:c,className:"mt-30"},"Reset"),o.a.createElement(S,null))||t&&o.a.createElement("button",{type:"button",disabled:!0},"loading...")||o.a.createElement("button",{type:"button",onClick:a},"Load"))}),_=Object(a.b)(function(e){return{isLoading:e.isLoading,isLoaded:e.isLoaded,isFiltered:e.isFiltered,searchWord:e.searchWord,posts:e.posts,filteredPosts:e.filteredPosts}},function(e){return{getPosts:function(t){return e(b())},resetPostsFiltering:function(){return e({type:E.RESET,payload:""})},handleSearchInputChange:function(t){return e(function(e){return{type:E.HANDLE_INPUT,payload:e}}(t))},filterPosts:function(){return e({type:E.FILTER})}}})(I);s.a.render(o.a.createElement(a.a,{store:P},o.a.createElement(_,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.ca9adffa.chunk.js.map