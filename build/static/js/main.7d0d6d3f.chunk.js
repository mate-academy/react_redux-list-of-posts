(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(33)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6),c=n(2),s=n(4),i=n(13),l=n(14),u=n(16),d=n(7),m={START_LOADING:"START_LOADING",HANDLE_ERROR:"HANDLE_ERROR",HANDLE_SUCCESS:"HANDLE_SUCCESS",HANDLE_DELETE_POST:"HANDLE_DELETE_POST",HANDLE_DELETE_COMMENT:"HANDLE_DELETE_COMMENT"};function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E={users:[],posts:[],comments:[],isLoading:!1,isLoaded:!1,hasError:!1},b=Object(s.createStore)(function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case m.START_LOADING:return f({},n,{isLoading:!0,hasError:!1});case m.HANDLE_SUCCESS:return f({},n,{users:r.payload.users,posts:r.payload.posts,comments:r.payload.comments,isLoaded:!0,isLoading:!1});case m.HANDLE_ERROR:return f({},n,{isLoading:!1,hasError:!1});case m.HANDLE_DELETE_POST:return f({},n,{posts:Object(u.a)(n.posts).filter(function(e){return e.id!==r.payload})});case m.HANDLE_DELETE_COMMENT:return f({},n,{comments:(e=n.comments,t=r.payload,e.filter(function(e){return e.id!==t}))});default:return n}},Object(l.composeWithDevTools)(Object(s.applyMiddleware)(i.a))),h=n(5),O=function(){return{type:m.HANDLE_ERROR}},v=function(e){var t=e.users,n=e.comments,r=e.posts;return{type:m.HANDLE_SUCCESS,payload:{users:t,comments:n,posts:r}}},y=function(){return function(e){var t="https://jsonplaceholder.typicode.com/users",n="https://jsonplaceholder.typicode.com/comments",r="https://jsonplaceholder.typicode.com/posts";e({type:m.START_LOADING}),Promise.all([fetch(r),fetch(t),fetch(n)]).then(function(e){var t=Object(h.a)(e,3),n=t[0],r=t[1],o=t[2];return Promise.all([n.json(),r.json(),o.json()])}).then(function(t){var n=Object(h.a)(t,3),r=n[0],o=n[1],a=n[2];e(v({posts:r,users:o,comments:a}))}).catch(function(){e(O())})}},g=function(e){return function(t){t(function(e){return{type:m.HANDLE_DELETE_POST,payload:e}}(e))}};n(27),n(28);var w=function(e){var t=e.user,n=t.name,r=t.username,a=t.email,c=t.address;return o.a.createElement("div",{className:"user d-flex flex-column"},o.a.createElement("h2",null,n),o.a.createElement("p",null,r),o.a.createElement("p",null,a),c&&o.a.createElement("div",{className:"user__adress align-self-end mr-3"},o.a.createElement("p",{className:"user__adress-street font-weight-bold"},c.street),o.a.createElement("p",{className:"user__adress-suite font-weight-bold"},c.suite),o.a.createElement("p",{className:"user__adress-city font-weight-bold"},c.city),o.a.createElement("p",{className:"user__adress-zipcode font-weight-bold"},c.zipcode)))},L=(n(29),function(e){return function(t){t({type:m.HANDLE_DELETE_COMMENT,payload:e})}});n(30);var N=function(e){var t=e.comment,n=e.deleteCommentFromPost,r=t.name,a=t.email,c=t.body;return o.a.createElement("div",{className:" d-flex flex-column border-3 border-success rounded p-3 m-3"},o.a.createElement("button",{className:"btn btn-danger align-self-end mb-3",type:"button",onClick:n},"X"),o.a.createElement("h4",null,r),o.a.createElement("p",null,a),o.a.createElement("p",null,c))},_=Object(c.b)(null,function(e,t){return{deleteCommentFromPost:function(){return e(L(t.comment.id))}}})(N);var j=function(e){var t=e.comments;return o.a.createElement("div",{className:"comments"},t.map(function(e){return o.a.createElement(_,{key:e.id,comment:e})}))};var D=function(e){var t=e.post,n=e.deletePostFromList,r=t.user,a=t.comments;return o.a.createElement("div",{className:"d-flex flex-column border-3 border-warning rounded p-3 m-3"},o.a.createElement("button",{className:"btn btn-danger align-self-end m-3",type:"button",onClick:n},"X"),o.a.createElement(w,{user:r}),o.a.createElement("h2",{className:"post__name"},"Title: ".concat(t.title)),o.a.createElement("p",{className:"post__body"},"Body: ".concat(t.body)),o.a.createElement(j,{comments:a}))},A=Object(c.b)(null,function(e,t){return{deletePostFromList:function(){return e(g(t.post.id))}}})(D);n(31);var P=function(e){var t=e.preparedPosts,n=e.isLoading,a=e.hasError,c=e.isLoaded,s=Object(r.useState)(""),i=Object(h.a)(s,2),l=i[0],u=i[1],d=t.filter(function(e){return-1!==e.title.indexOf(l)||-1!==e.body.indexOf(l)});return console.log("select"),n&&o.a.createElement("div",null,o.a.createElement("p",null,"Loading..."),o.a.createElement("button",{type:"button",onClick:e.loadPostsAndUsers},"Load"))||a&&o.a.createElement("p",null,"Error occurred!!!")||!c&&o.a.createElement(o.a.Fragment,null,o.a.createElement("p",null,"No users yet"),o.a.createElement("button",{type:"button",onClick:e.loadPostsAndUsers},"Load"))||o.a.createElement("div",{className:"post-list container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 text-center"},o.a.createElement("input",{id:"myInput",className:"text-center",type:"search",placeholder:"search please",value:l,onChange:function(e){u(e.target.value)}})),d.map(function(e){return o.a.createElement(A,{key:e.id,post:e})})))},S=n(15);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var C=Object(S.a)(function(e){return e.users},function(e){return e.posts},function(e){return e.comments},function(e,t,n){return t.map(function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach(function(t){Object(d.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},t,{user:e.find(function(e){return e.id===t.userId}),comments:n.filter(function(e){return e.postId===t.id})})})}),R=Object(c.b)(function(e){return{preparedPosts:C(e),isLoading:e.isLoading,isLoaded:e.isLoaded,hasError:e.hasError}},function(e,t){return{loadPostsAndUsers:function(){return e(y())}}})(P);n(32);var k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("h1",null,"Redux list of posts"),o.a.createElement(R,null))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function x(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}Object(a.render)(o.a.createElement(c.a,{store:b},o.a.createElement(k,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");H?(function(e,t){fetch(e).then(function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):x(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):x(t,e)})}}()}},[[17,1,2]]]);
//# sourceMappingURL=main.7d0d6d3f.chunk.js.map