(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(36)},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),s=n.n(o),c=n(2),i=n(12),u=n(9),l=n(4),m=n(13);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(i.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var E="https://jsonplaceholder.typicode.com",f={START_LOADING:"START_LOADING",HANDLE_SUCCESS:"HANDLE_SUCCESS",HANDLE_ERROR:"HANDLE_ERROR",DELETE_POST:"DELETE_POST",DELETE_COMMENT:"DELETE_COMMENT",SEARCH_POST:"SEARCH_POST"},h=function(){return function(e){e({type:f.START_LOADING}),Promise.all([fetch("".concat(E,"/posts")),fetch("".concat(E,"/users")),fetch("".concat(E,"/comments"))]).then(function(e){var t=Object(u.a)(e,3),n=t[0],a=t[1],r=t[2];return Promise.all([n.json(),a.json(),r.json()])}).then(function(t){var n,a=Object(u.a)(t,3),r=a[0],o=a[1],s=a[2],c=r.map(function(e){return p({},e,{user:o.find(function(t){return t.id===e.userId}),comments:s.filter(function(t){return t.postId===e.id})})});e((n=c,{type:f.HANDLE_SUCCESS,payload:n}))}).catch(function(){return e({type:f.HANDLE_ERROR})})}},b={posts:[],originalPosts:[],isLoaded:!1,isLoading:!1,hasError:!1};var y=Object(l.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case f.START_LOADING:return p({},e,{isLoading:!0,hasError:!1});case f.HANDLE_SUCCESS:return p({},e,{posts:t.payload,originalPosts:t.payload,isLoaded:!0,isLoading:!1});case f.HANDLE_ERROR:return p({},e,{hasError:!0,isLoading:!1});case f.DELETE_POST:return p({},e,{posts:e.posts.filter(function(e){return e.id!==t.payload}),originalPosts:e.originalPosts.filter(function(e){return e.id!==t.payload})});case f.DELETE_COMMENT:return p({},e,{posts:e.posts.map(function(e){return p({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})})}),originalPosts:e.originalPosts.map(function(e){return p({},e,{comments:e.comments.filter(function(e){return e.id!==t.payload})})})});case f.SEARCH_POST:return p({},e,{posts:e.originalPosts.filter(function(e){return e.title.includes(t.payload)||e.body.includes(t.payload)})});default:return e}},Object(l.a)(m.a)),g=(n(29),n(14)),O=n(15),N=n(17),L=n(16),S=n(18),R=(n(30),n(31),n(32),n(33),n(1)),P=n.n(R),v=(P.a.bool.isRequired,P.a.bool.isRequired,P.a.bool.isRequired,P.a.func.isRequired,P.a.func.isRequired,P.a.arrayOf(P.a.object).isRequired,P.a.shape({id:P.a.number,title:P.a.string,body:P.a.string,user:P.a.object,comments:P.a.array}).isRequired,P.a.func.isRequired,P.a.arrayOf(P.a.object).isRequired,P.a.shape({name:P.a.string,email:P.a.string,body:P.a.string}).isRequired,P.a.func.isRequired,P.a.string.isRequired,P.a.string.isRequired,P.a.shape({street:P.a.string,suite:P.a.string,city:P.a.string,zipcode:P.a.string}),function(e){var t=e.name,n=e.email,a=e.address;return r.a.createElement("div",{className:"user"},r.a.createElement("a",{className:"user-name",href:"/ "},r.a.createElement("img",{className:"user-icon",src:"./images/user-icon.png",alt:"user-ipon"}),t),r.a.createElement("p",{className:"user-email"},n),a&&r.a.createElement("p",{className:"user-address"},"".concat(a.street,", ").concat(a.suite,",\n        ").concat(a.city,", ").concat(a.zipcode)))}),j=(n(34),function(e){var t=e.comment,n=e.deleteComment,a=t.name,o=t.email,s=t.body;return r.a.createElement("div",{className:"comment"},r.a.createElement(v,{name:a,email:o}),r.a.createElement("p",{className:"comment-text"},s),r.a.createElement("button",{type:"button",className:"btn-delete-comment",onClick:n},"x"))}),T=Object(c.b)(null,function(e,t){return{deleteComment:function(){return e((n=t.comment.id,{type:f.DELETE_COMMENT,payload:n}));var n}}})(j),C=(n(35),function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},r.a.createElement("h3",{className:"comments-heading"},"Comments:"),t.map(function(e){return r.a.createElement(T,{comment:e,key:e.id})}))}),D=function(e){var t=e.post,n=e.deletePost,a=t.user,o=t.comments;return r.a.createElement("div",{className:"post"},r.a.createElement("h2",{className:"post-title"},t.title),r.a.createElement("p",{className:"post-text"},t.body),r.a.createElement(v,{name:a.name,email:a.email,address:a.address}),r.a.createElement(C,{comments:o}),r.a.createElement("button",{type:"button",className:"btn-delete-post",onClick:n},"x"))},_=Object(c.b)(null,function(e,t){return{deletePost:function(){return e((n=t.post.id,{type:f.DELETE_POST,payload:n}));var n}}})(D),A=function(e){var t=e.posts;return r.a.createElement("div",{className:"container"},t.map(function(e){return r.a.createElement(_,{post:e,key:e.id})}))},w=Object(c.b)(function(e){return{posts:e.posts}})(A),q=function(e){function t(){var e,n;Object(g.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(N.a)(this,(e=Object(L.a)(t)).call.apply(e,[this].concat(r)))).state={searchWord:""},n.handleSearchChange=function(e){var t=e.target.value;n.setState({searchWord:t}),(0,n.props.searchPost)(t)},n}return Object(S.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isLoaded,n=e.isLoading,a=e.hasError,o=e.loadPosts,s=this.state.searchWord;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{className:"heading"},"Dynamic list of todos"),t?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"text",value:s,name:"search-input",placeholder:"Search...",className:"search",onChange:this.handleSearchChange}),r.a.createElement(w,null)):r.a.createElement(r.a.Fragment,null,a&&r.a.createElement("h2",{className:"error-title"},"Oh, something went wrong! Please, try again"),r.a.createElement("button",{type:"button",className:"load-button",onClick:o,disabled:n},n?"Loading...":"Load posts")))}}]),t}(r.a.Component),H=Object(c.b)(function(e){return{isLoaded:e.isLoaded,isLoading:e.isLoading,hasError:e.hasError}},function(e){return{loadPosts:function(){return e(h())},searchPost:function(t){return e(function(e){return{type:f.SEARCH_POST,payload:e}}(t))}}})(q);s.a.render(r.a.createElement(c.a,{store:y},r.a.createElement(H,null)),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.f07d13c1.chunk.js.map