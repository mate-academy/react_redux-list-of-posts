(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(5),c=n.n(o),u=n(2),l=n(11),s=n.n(l),i=n(7),m=n(6),d=n(4),f=n(15),E="https://jsonplaceholder.typicode.com/",p=function(e,t){return fetch(e).then(function(e){return e.ok?e.json():t}).catch(function(){return t})},v=n(12),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.value;case"DELETE_POST":return Object(v.a)(e).filter(function(e){return e.id!==t.value});case"DELETE_COMMENT":return Object(v.a)(e).map(function(e){return Object(i.a)({},e,{comments:e.comments.filter(function(e){return e.id!==t.value})})});default:return e}},y=function(e){return{type:"SET_LOADING",value:e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":return t.value;default:return e}},O=function(e){return{type:"SET_LOADED",value:e}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADED":return t.value;default:return e}},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return t.value;default:return e}},g=function(e){return e.posts},w=function(e){return e.loading},j=function(e){return e.loaded},L=function(e){return e.filter},S=Object(d.c)({posts:b,loading:h,loaded:T,filter:N}),P=Object(d.d)(S,Object(d.a)(f.a)),_=(n(27),function(e){var t=e.user;return r.a.createElement("div",{className:"user"},r.a.createElement("b",null,"Post by:"),r.a.createElement("div",{className:"user--name"},t.name),r.a.createElement("div",{className:"user--email"},t.email),r.a.createElement("div",{className:"user--address"},t.address.street,r.a.createElement("br",null),t.address.suite,r.a.createElement("br",null),t.address.city))}),C={deleteComment:function(e){return{type:"DELETE_COMMENT",value:e}}},D=Object(u.b)(null,C)(function(e){var t=e.comment,n=e.deleteComment;return r.a.createElement("div",{className:"comment"},r.a.createElement("button",{className:"button--delete",type:"button",onClick:function(){return n(t.id)}},"Remove comment"),r.a.createElement("h4",{className:"comment--name"},t.name),r.a.createElement("div",{className:"comment--email"},t.email),r.a.createElement("p",{className:"comment--body"},t.body))}),k=function(e){var t=e.comments;return r.a.createElement("div",{className:"comments"},"Comments:",t.map(function(e){return r.a.createElement(D,{key:e.id,comment:e})}))},I={deletePost:function(e){return{type:"DELETE_POST",value:e}}},x=Object(u.b)(null,I)(function(e){var t=e.post,n=e.deletePost;return r.a.createElement("div",{className:"post"},r.a.createElement("button",{className:"button--delete",type:"button",onClick:function(){return n(t.id)}},"Remove post"),r.a.createElement("h3",{className:"post--header"},t.title),r.a.createElement(_,{user:t.user}),r.a.createElement("p",{className:"post--body"},t.body),r.a.createElement(k,{comments:t.comments}))}),A=function(e){var t=e.posts,n=e.filterPosts,o=Object(a.useState)(""),c=Object(m.a)(o,2),u=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,"Enter text to filter posts by title or body:\xa0",r.a.createElement("input",{className:"filter--input",type:"text",value:u,onChange:function(e){return t=e.target.value,l(t.toLowerCase().trimLeft()),void n(u);var t}}),r.a.createElement("h4",null,t.length,"\xa0post(s) are shown"),t.map(function(e){return r.a.createElement(x,{key:e.id,post:e})}))},R={setFilter:function(e){return{type:"SET_FILTER",value:e}},loadPosts:function(){return function(e){var t,n,a,r,o,c;return s.a.async(function(u){for(;;)switch(u.prev=u.next){case 0:return e(y(!0)),u.next=3,s.a.awrap(Promise.all([p("".concat(E,"posts"),[]),p("".concat(E,"users"),[]),p("".concat(E,"comments"),[])]));case 3:t=u.sent,n=Object(m.a)(t,3),a=n[0],r=n[1],o=n[2],c=a.map(function(e){var t=r.find(function(t){return t.id===e.userId}),n=o.filter(function(t){return t.postId===e.id});return Object(i.a)({},e,{user:t,comments:n})}),e({type:"SET_POSTS",value:c}),e(O(!0)),e(y(!1));case 12:case"end":return u.stop()}})}}},F=Object(u.b)(function(e){return{posts:g(e),loading:w(e),loaded:j(e),filter:L(e)}},R)(function(e){var t=e.posts,n=e.loading,a=e.loaded,o=e.filter,c=e.loadPosts,u=e.setFilter,l=function(e,t){var n;return function(){clearTimeout(n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];n=setTimeout.apply(void 0,[e,t].concat(r))}}(function(e){u(e)},500),s=t.filter(function(e){return(e.title+e.body).toLowerCase().includes(o)});return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"React-Redux list of posts"),a?r.a.createElement(A,{posts:s,filterPosts:l}):r.a.createElement("button",{className:"button--load",type:"button",onClick:c},n?"Loading... Please wait...":"Load list of posts"))});c.a.render(r.a.createElement(u.a,{store:P},r.a.createElement(F,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f6d0b9d6.chunk.js.map